{"version":3,"sources":["src/core/core-chart.umd.js"],"names":["global","factory","exports","module","require","define","amd","self","ajf","core","chart","Chart","ng","utils","this","chart_js","AjfChartModule","AjfChartComponent","_el","_renderer","_chartTypesNeedPoints","prototype","ngAfterViewInit","_rebuildChart","ngOnChanges","changes","_updateChart","_fixData","chartType","data","_this","newData","deepCopy","maxPointsNum","datasets","forEach","dataset","label","Math","max","length","indexOf","type","map","d","idx","x","y","r","labels","i","push","_chart","options","Object","assign","update","destroy","_chartCanvasElement","removeChild","nativeElement","createElement","setStyle","appendChild","ctx","getContext","_fixChartOptions","legendCallback","Function","onHover","onClick","onResize","legend","onLeave","generateLabels","filter","tooltips","custom","callbacks","key","callback","itemSort","hover","animation","onProgress","onComplete","scales","xAxes","yAxes","yAxe","ticks","xAxe","newOptions","pieceLabel","render","args","value","position","decorators","Component","selector","template","changeDetection","ChangeDetectionStrategy","OnPush","encapsulation","ViewEncapsulation","None","styles","ctorParameters","ElementRef","Renderer2","propDecorators","Input","NgModule","declarations","registerChartPlugins","plugins","plugin","register","defineProperty"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('chart.js'), require('@ajf/core/utils'), require('@angular/core')) :\n    typeof define === 'function' && define.amd ? define('@ajf/core/chart', ['exports', 'chart.js', '@ajf/core/utils', '@angular/core'], factory) :\n    (global = global || self, factory((global.ajf = global.ajf || {}, global.ajf.core = global.ajf.core || {}, global.ajf.core.chart = {}), global.Chart, global.ng.core.utils, global.ng.core));\n}(this, (function (exports, chart_js, utils, core) { 'use strict';\n\n    /**\n     * @license\n     * Copyright (C) Gnucoop soc. coop.\n     *\n     * This file is part of the Advanced JSON forms (ajf).\n     *\n     * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n     * modify it under the terms of the GNU Affero General Public License as\n     * published by the Free Software Foundation, either version 3 of the License,\n     * or (at your option) any later version.\n     *\n     * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n     * General Public License for more details.\n     *\n     * You should have received a copy of the GNU Affero General Public License\n     * along with Advanced JSON forms (ajf).\n     * If not, see http://www.gnu.org/licenses/.\n     *\n     */\n    function registerChartPlugins(plugins) {\n        if (plugins != null && plugins.length > 0) {\n            plugins.forEach(function (plugin) { return chart_js.Chart.plugins.register(plugin); });\n        }\n    }\n\n    /**\n     * @license\n     * Copyright (C) Gnucoop soc. coop.\n     *\n     * This file is part of the Advanced JSON forms (ajf).\n     *\n     * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n     * modify it under the terms of the GNU Affero General Public License as\n     * published by the Free Software Foundation, either version 3 of the License,\n     * or (at your option) any later version.\n     *\n     * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n     * General Public License for more details.\n     *\n     * You should have received a copy of the GNU Affero General Public License\n     * along with Advanced JSON forms (ajf).\n     * If not, see http://www.gnu.org/licenses/.\n     *\n     */\n    var AjfChartComponent = /** @class */ (function () {\n        function AjfChartComponent(_el, _renderer) {\n            this._el = _el;\n            this._renderer = _renderer;\n            this._chartTypesNeedPoints = ['scatter', 'bubble'];\n        }\n        AjfChartComponent.prototype.ngAfterViewInit = function () {\n            this._rebuildChart();\n        };\n        AjfChartComponent.prototype.ngOnChanges = function (changes) {\n            if ('chartType' in changes) {\n                this._rebuildChart();\n            }\n            else if ('options' in changes || 'data' in changes) {\n                this._updateChart();\n            }\n        };\n        AjfChartComponent.prototype._fixData = function (chartType, data) {\n            var _this = this;\n            var newData = utils.deepCopy(data);\n            var maxPointsNum = 0;\n            (newData.datasets || []).forEach(function (dataset) {\n                if (dataset.label == null) {\n                    dataset.label = '';\n                }\n                maxPointsNum = Math.max(maxPointsNum, (dataset.data || []).length);\n                var datasetType = dataset.type != null ? dataset.type : chartType;\n                if (_this._chartTypesNeedPoints.indexOf(datasetType) > -1) {\n                    dataset.data = (dataset.data || []).map(function (d, idx) {\n                        if (typeof d === 'number') {\n                            return { x: idx, y: d, r: d };\n                        }\n                        return d;\n                    });\n                }\n            });\n            var labels = newData.labels || [];\n            if (maxPointsNum > 0 && labels.length < maxPointsNum) {\n                for (var i = labels.length; i < maxPointsNum; i++) {\n                    labels.push('');\n                }\n                newData.labels = labels;\n            }\n            return newData;\n        };\n        AjfChartComponent.prototype._updateChart = function () {\n            if (this._chart == null) {\n                this._rebuildChart();\n            }\n            else {\n                this._chart.options = Object.assign(Object.assign({}, utils.deepCopy(this._chart.options)), utils.deepCopy(this.options || {}));\n                this._chart.data = Object.assign(Object.assign({}, utils.deepCopy(this._chart.data)), utils.deepCopy(this.data));\n                this._chart.update();\n            }\n        };\n        AjfChartComponent.prototype._rebuildChart = function () {\n            if (this._chart != null) {\n                this._chart.destroy();\n                this._chart = null;\n            }\n            if (this._chartCanvasElement != null) {\n                this._renderer.removeChild(this._el.nativeElement, this._chartCanvasElement);\n                this._chartCanvasElement = null;\n            }\n            if (this.data != null) {\n                this._chartCanvasElement = this._renderer.createElement('canvas');\n                this._renderer.setStyle(this._chartCanvasElement, 'width', 'inherit');\n                this._renderer.setStyle(this._chartCanvasElement, 'height', 'inherit');\n                this._renderer.appendChild(this._el.nativeElement, this._chartCanvasElement);\n                var ctx = this._chartCanvasElement.getContext('2d');\n                this._chart = new chart_js.Chart(ctx, {\n                    type: this.chartType,\n                    data: this._fixData(this.chartType, this.data),\n                    options: this._fixChartOptions(this.options)\n                });\n            }\n        };\n        AjfChartComponent.prototype._fixChartOptions = function (options) {\n            options = options || {};\n            if (options.legendCallback) {\n                var legendCallback = (typeof options.legendCallback === 'string' ?\n                    new Function(options.legendCallback) :\n                    options.legendCallback);\n                options.legendCallback = legendCallback;\n            }\n            if (options.onHover) {\n                var onHover = (typeof options.onHover === 'string' ?\n                    new Function(options.onHover) :\n                    options.onHover);\n                options.onHover = onHover;\n            }\n            if (options.onClick) {\n                var onClick = (typeof options.onClick === 'string' ?\n                    new Function(options.onClick) :\n                    options.onClick);\n                options.onClick = onClick;\n            }\n            if (options.onResize) {\n                var onResize = (typeof options.onResize === 'string' ?\n                    new Function(options.onResize) :\n                    options.onResize);\n                options.onResize = onResize;\n            }\n            if (options.legend) {\n                var legend = options.legend;\n                if (legend.onClick) {\n                    var onClick = (typeof legend.onClick === 'string' ?\n                        new Function(legend.onClick) :\n                        legend.onClick);\n                    legend.onClick = onClick;\n                }\n                if (legend.onHover) {\n                    var onHover = (typeof legend.onHover === 'string' ?\n                        new Function(legend.onHover) :\n                        legend.onHover);\n                    legend.onHover = onHover;\n                }\n                if (legend.onLeave) {\n                    var onLeave = (typeof legend.onLeave === 'string' ?\n                        new Function(legend.onLeave) :\n                        legend.onLeave);\n                    legend.onLeave = onLeave;\n                }\n                if (legend.labels) {\n                    var labels = legend.labels;\n                    if (labels.generateLabels) {\n                        var generateLabels = (typeof labels.generateLabels === 'string' ?\n                            new Function(labels.generateLabels) :\n                            labels.generateLabels);\n                        labels.generateLabels = generateLabels;\n                    }\n                    if (labels.filter) {\n                        var filter = (typeof labels.filter === 'string' ? new Function(labels.filter) : labels.filter);\n                        labels.filter = filter;\n                    }\n                }\n            }\n            if (options.tooltips) {\n                var tooltips = options.tooltips;\n                if (tooltips.custom) {\n                    var custom = (typeof tooltips.custom === 'string' ?\n                        new Function(tooltips.custom) :\n                        tooltips.custom);\n                    tooltips.custom = custom;\n                }\n                if (tooltips.callbacks) {\n                    var callbacks = tooltips.callbacks;\n                    for (var key in callbacks) {\n                        var callback = callbacks[key];\n                        callbacks[key] =\n                            typeof callback === 'string' ? new Function(callback) : callback;\n                    }\n                }\n                if (tooltips.filter) {\n                    var filter = (typeof tooltips.filter === 'string' ? new Function(tooltips.filter) :\n                        tooltips.filter);\n                    tooltips.filter = filter;\n                }\n                if (tooltips.itemSort) {\n                    var itemSort = (typeof tooltips.itemSort === 'string' ? new Function(tooltips.itemSort) :\n                        tooltips.itemSort);\n                    tooltips.itemSort = itemSort;\n                }\n            }\n            if (options.hover) {\n                var hover = options.hover;\n                if (hover.onHover) {\n                    var onHover = (typeof hover.onHover === 'string' ? new Function(hover.onHover) : hover.onHover);\n                    hover.onHover = onHover;\n                }\n            }\n            if (options.animation) {\n                var animation = options.animation;\n                if (animation.onProgress) {\n                    var onProgress = (typeof animation.onProgress === 'string' ?\n                        new Function(animation.onProgress) :\n                        animation.onProgress);\n                    animation.onProgress = onProgress;\n                }\n                if (animation.onComplete) {\n                    var onComplete = (typeof animation.onComplete === 'string' ?\n                        new Function(animation.onComplete) :\n                        animation.onComplete);\n                    animation.onComplete = onComplete;\n                }\n            }\n            if (options.scales == null) {\n                options.scales = { xAxes: [], yAxes: [] };\n            }\n            if (options.scales.xAxes == null) {\n                options.scales.xAxes = [];\n            }\n            if (options.scales.yAxes == null) {\n                options.scales.yAxes = [];\n            }\n            options.scales.yAxes.forEach(function (yAxe) {\n                if (yAxe.ticks && yAxe.ticks.callback) {\n                    var callback = (typeof yAxe.ticks.callback === 'string' ?\n                        new Function(yAxe.ticks.callback) :\n                        yAxe.ticks.callback);\n                    yAxe.ticks.callback = callback;\n                }\n            });\n            options.scales.xAxes.forEach(function (xAxe) {\n                if (xAxe.ticks && xAxe.ticks.callback) {\n                    var callback = (typeof xAxe.ticks.callback === 'string' ?\n                        new Function(xAxe.ticks.callback) :\n                        xAxe.ticks.callback);\n                    xAxe.ticks.callback = callback;\n                }\n            });\n            if (this.chartType == 'pie') {\n                var newOptions = options;\n                newOptions.pieceLabel = Object.assign(Object.assign({}, Object.assign({ render: function (args) {\n                        if (args.label) {\n                            return args.label + ':' + args.value;\n                        }\n                        else {\n                            return args.value;\n                        }\n                    } }, newOptions.pieceLabel)), { position: 'outside' });\n                return newOptions;\n            }\n            return options;\n        };\n        return AjfChartComponent;\n    }());\n    AjfChartComponent.decorators = [\n        { type: core.Component, args: [{\n                    selector: 'ajf-chart',\n                    template: \"\",\n                    changeDetection: core.ChangeDetectionStrategy.OnPush,\n                    encapsulation: core.ViewEncapsulation.None,\n                    styles: [\"ajf-chart{display:block;width:inherit;height:inherit;position:relative}\\n\"]\n                },] }\n    ];\n    AjfChartComponent.ctorParameters = function () { return [\n        { type: core.ElementRef },\n        { type: core.Renderer2 }\n    ]; };\n    AjfChartComponent.propDecorators = {\n        data: [{ type: core.Input }],\n        options: [{ type: core.Input }],\n        chartType: [{ type: core.Input }]\n    };\n\n    /**\n     * @license\n     * Copyright (C) Gnucoop soc. coop.\n     *\n     * This file is part of the Advanced JSON forms (ajf).\n     *\n     * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n     * modify it under the terms of the GNU Affero General Public License as\n     * published by the Free Software Foundation, either version 3 of the License,\n     * or (at your option) any later version.\n     *\n     * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n     * General Public License for more details.\n     *\n     * You should have received a copy of the GNU Affero General Public License\n     * along with Advanced JSON forms (ajf).\n     * If not, see http://www.gnu.org/licenses/.\n     *\n     */\n    var AjfChartModule = /** @class */ (function () {\n        function AjfChartModule() {\n        }\n        return AjfChartModule;\n    }());\n    AjfChartModule.decorators = [\n        { type: core.NgModule, args: [{\n                    declarations: [\n                        AjfChartComponent,\n                    ],\n                    exports: [\n                        AjfChartComponent,\n                    ],\n                },] }\n    ];\n\n    /**\n     * @license\n     * Copyright (C) Gnucoop soc. coop.\n     *\n     * This file is part of the Advanced JSON forms (ajf).\n     *\n     * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n     * modify it under the terms of the GNU Affero General Public License as\n     * published by the Free Software Foundation, either version 3 of the License,\n     * or (at your option) any later version.\n     *\n     * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n     * General Public License for more details.\n     *\n     * You should have received a copy of the GNU Affero General Public License\n     * along with Advanced JSON forms (ajf).\n     * If not, see http://www.gnu.org/licenses/.\n     *\n     */\n\n    /**\n     * Generated bundle index. Do not edit.\n     */\n\n    exports.AjfChartComponent = AjfChartComponent;\n    exports.AjfChartModule = AjfChartModule;\n    exports.registerChartPlugins = registerChartPlugins;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=core-chart.umd.js.map\n"]}