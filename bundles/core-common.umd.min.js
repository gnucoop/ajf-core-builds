/**
 * @license
 * Copyright (C) 2018 Gnucoop soc. coop.
 *
 * This file is part of the Advanced JSON forms (ajf).
 *
 * Advanced JSON forms (ajf) is free software: you can redistribute it and/or
 * modify it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the License,
 * or (at your option) any later version.
 *
 * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero
 * General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with Advanced JSON forms (ajf).
 * If not, see http://www.gnu.org/licenses/.
 *
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@ngx-translate/core")):"function"==typeof define&&define.amd?define("@ajf/core/common",["exports","@angular/core","@angular/common","@ngx-translate/core"],t):t(((e=e||self).ajf=e.ajf||{},e.ajf.core=e.ajf.core||{},e.ajf.core.common={}),e.ng.core,e.ng.common,e.ngxt.core)}(this,function(e,r,t,o){"use strict";var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a=(Object.defineProperty(s.prototype,"applyStyles",{set:function(e){this._cssStyles!==e&&(this._cssStyles=e,this._updateStyles())},enumerable:!0,configurable:!0}),s.prototype._updateStyles=function(){var t=this;null!=this._cssStyles&&Object.keys(this._cssStyles).forEach(function(e){try{t._renderer.setStyle(t._el.nativeElement,e,""+t._cssStyles[e])}catch(e){}})},s.decorators=[{type:r.Directive,args:[{selector:"[applyStyles]"}]}],s.ctorParameters=function(){return[{type:r.ElementRef},{type:r.Renderer2}]},s.propDecorators={applyStyles:[{type:r.Input}]},s);function s(e,t){this._el=e,this._renderer=t}var c=(p.prototype.ngAfterContentInit=function(){this._el.nativeElement.focus()},p.decorators=[{type:r.Directive,args:[{selector:"[autoFocus]"}]}],p.ctorParameters=function(){return[{type:r.ElementRef}]},p.propDecorators={appAutoFocus:[{type:r.Input}]},p);function p(e){this._el=e}var u=(f.prototype.onDragOver=function(e){e.preventDefault(),e.stopPropagation(),this.background="#999"},f.prototype.onDragLeave=function(e){e.preventDefault(),e.stopPropagation(),this.background="#eee"},f.prototype.onDrop=function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer.files;0<t.length&&(this.background="#eee",this.file.emit(t))},f.decorators=[{type:r.Directive,args:[{selector:"[ajfDnd]",host:{"[style.background]":"background","(dragover)":"onDragOver($event)","(dragleave)":"onDragLeave($event)","(drop)":"onDrop($event)"}}]}],f.propDecorators={file:[{type:r.Output}]},f);function f(){this.file=new r.EventEmitter,this.background="#eee"}var l,y=(i(d,l=t.DecimalPipe),d.prototype.transform=function(e,t,r){return"number"==typeof e?l.prototype.transform.call(this,e,t,r):e},d.decorators=[{type:r.Pipe,args:[{name:"ajfFormatIfNumber"}]}],d);function d(){return null!==l&&l.apply(this,arguments)||this}var g,m=(i(v,g=o.TranslatePipe),v.prototype.transform=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return"string"==typeof e?g.prototype.transform.apply(this,[e].concat(t)):e},v.decorators=[{type:r.Pipe,args:[{name:"ajfTranslateIfString"}]}],v);function v(){return null!==g&&g.apply(this,arguments)||this}var h=(Object.defineProperty(_.prototype,"source",{get:function(){return this._source},set:function(e){this._source=e,this._initCam()},enumerable:!0,configurable:!0}),_.prototype._initCam=function(){var t=this;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then(function(e){t._source.srcObject=e,t._source.play()}).catch(function(e){console.log(e)})},_.prototype.ngAfterViewInit=function(){this._renderer.appendChild(this._el.nativeElement,this._source),this.isInit.emit()},_.decorators=[{type:r.Directive,args:[{selector:"[ajfVideoDirective]"}]}],_.ctorParameters=function(){return[{type:r.ElementRef},{type:r.Renderer2}]},_.propDecorators={source:[{type:r.Input}],isInit:[{type:r.Output}]},_);function _(e,t){this._el=e,this._renderer=t,this.isInit=new r.EventEmitter}var D=(b.decorators=[{type:r.NgModule,args:[{declarations:[u,h,a,c,y,m],exports:[u,h,a,c,y,m]}]}],b);function b(){}e.AjfCommonModule=D,e.AjfDndDirective=u,e.ApplyStylesDirective=a,e.AutofocusDirective=c,e.FormatIfNumber=y,e.TranslateIfString=m,e.Éµa=h,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=core-common.umd.min.js.map
