!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@ngx-translate/core")):"function"==typeof define&&define.amd?define("@ajf/core/common",["exports","@angular/core","@angular/common","@ngx-translate/core"],t):t(((e=e||self).ajf=e.ajf||{},e.ajf.core=e.ajf.core||{},e.ajf.core.common={}),e.ng.core,e.ng.common,e.ngxTranslate.core)}(this,(function(e,t,r,n){"use strict";
/**
     * @license
     * Copyright (C) Gnucoop soc. coop.
     *
     * This file is part of the Advanced JSON forms (ajf).
     *
     * Advanced JSON forms (ajf) is free software: you can redistribute it and/or
     * modify it under the terms of the GNU Affero General Public License as
     * published by the Free Software Foundation, either version 3 of the License,
     * or (at your option) any later version.
     *
     * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,
     * but WITHOUT ANY WARRANTY; without even the implied warranty of
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero
     * General Public License for more details.
     *
     * You should have received a copy of the GNU Affero General Public License
     * along with Advanced JSON forms (ajf).
     * If not, see http://www.gnu.org/licenses/.
     *
     */var o=function(){function e(e,t){this._el=e,this._renderer=t}return Object.defineProperty(e.prototype,"applyStyles",{set:function(e){null!=e&&this._cssStyles!==e&&(this._cssStyles=e,this._updateStyles())},enumerable:!0,configurable:!0}),e.prototype._updateStyles=function(){var e=this;null!=this._cssStyles&&Object.keys(this._cssStyles).forEach((function(t){try{e._renderer.setStyle(e._el.nativeElement,t,""+e._cssStyles[t])}catch(e){}}))},e.decorators=[{type:t.Directive,args:[{selector:"[applyStyles]"}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2}]},e.propDecorators={applyStyles:[{type:t.Input}]},e}(),i=function(){function e(e){this._el=e}return e.prototype.ngAfterContentInit=function(){this._el.nativeElement.focus()},e.decorators=[{type:t.Directive,args:[{selector:"[autoFocus]"}]}],e.ctorParameters=function(){return[{type:t.ElementRef}]},e.propDecorators={appAutoFocus:[{type:t.Input}]},e}(),a=function(){function e(){this.file=new t.EventEmitter,this.background="#eee"}return e.prototype.onDragOver=function(e){e.preventDefault(),e.stopPropagation(),this.background="#999"},e.prototype.onDragLeave=function(e){e.preventDefault(),e.stopPropagation(),this.background="#eee"},e.prototype.onDrop=function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer.files;t.length>0&&(this.background="#eee",this.file.emit(t))},e.decorators=[{type:t.Directive,args:[{selector:"[ajfDnd]",host:{"[style.background]":"background","(dragover)":"onDragOver($event)","(dragleave)":"onDragLeave($event)","(drop)":"onDrop($event)"}}]}],e.propDecorators={file:[{type:t.Output}]},e}(),c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};
/**
     * @license
     * Copyright (C) Gnucoop soc. coop.
     *
     * This file is part of the Advanced JSON forms (ajf).
     *
     * Advanced JSON forms (ajf) is free software: you can redistribute it and/or
     * modify it under the terms of the GNU Affero General Public License as
     * published by the Free Software Foundation, either version 3 of the License,
     * or (at your option) any later version.
     *
     * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,
     * but WITHOUT ANY WARRANTY; without even the implied warranty of
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero
     * General Public License for more details.
     *
     * You should have received a copy of the GNU Affero General Public License
     * along with Advanced JSON forms (ajf).
     * If not, see http://www.gnu.org/licenses/.
     *
     */function s(e,t){function r(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function u(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}
/**
     * @license
     * Copyright (C) Gnucoop soc. coop.
     *
     * This file is part of the Advanced JSON forms (ajf).
     *
     * Advanced JSON forms (ajf) is free software: you can redistribute it and/or
     * modify it under the terms of the GNU Affero General Public License as
     * published by the Free Software Foundation, either version 3 of the License,
     * or (at your option) any later version.
     *
     * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,
     * but WITHOUT ANY WARRANTY; without even the implied warranty of
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero
     * General Public License for more details.
     *
     * You should have received a copy of the GNU Affero General Public License
     * along with Advanced JSON forms (ajf).
     * If not, see http://www.gnu.org/licenses/.
     *
     */
var f=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return s(r,e),r.prototype.transform=function(t,r,n){return"number"==typeof t?e.prototype.transform.call(this,t,r,n):t},r.decorators=[{type:t.Pipe,args:[{name:"ajfFormatIfNumber"}]}],r}(r.DecimalPipe),l=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return s(r,e),r.prototype.transform=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return"string"==typeof t?e.prototype.transform.apply(this,p([t],r)):t},r.decorators=[{type:t.Pipe,args:[{name:"ajfTranslateIfString"}]}],r}(n.TranslatePipe),y=function(){function e(e,r){this._el=e,this._renderer=r,this.isInit=new t.EventEmitter}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},set:function(e){this._source=e,this._initCam()},enumerable:!0,configurable:!0}),e.prototype._initCam=function(){var e=this;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(t){e._source.srcObject=t,e._source.play()})).catch((function(e){console.log(e)}))},e.prototype.ngAfterViewInit=function(){this._renderer.appendChild(this._el.nativeElement,this._source),this.isInit.emit()},e.decorators=[{type:t.Directive,args:[{selector:"[ajfVideoDirective]"}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2}]},e.propDecorators={source:[{type:t.Input}],isInit:[{type:t.Output}]},e}(),d=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[a,y,o,i,f,l],exports:[a,y,o,i,f,l]}]}],e}();
/**
     * @license
     * Copyright (C) Gnucoop soc. coop.
     *
     * This file is part of the Advanced JSON forms (ajf).
     *
     * Advanced JSON forms (ajf) is free software: you can redistribute it and/or
     * modify it under the terms of the GNU Affero General Public License as
     * published by the Free Software Foundation, either version 3 of the License,
     * or (at your option) any later version.
     *
     * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,
     * but WITHOUT ANY WARRANTY; without even the implied warranty of
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero
     * General Public License for more details.
     *
     * You should have received a copy of the GNU Affero General Public License
     * along with Advanced JSON forms (ajf).
     * If not, see http://www.gnu.org/licenses/.
     *
     */
/**
     * @license
     * Copyright (C) Gnucoop soc. coop.
     *
     * This file is part of the Advanced JSON forms (ajf).
     *
     * Advanced JSON forms (ajf) is free software: you can redistribute it and/or
     * modify it under the terms of the GNU Affero General Public License as
     * published by the Free Software Foundation, either version 3 of the License,
     * or (at your option) any later version.
     *
     * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,
     * but WITHOUT ANY WARRANTY; without even the implied warranty of
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero
     * General Public License for more details.
     *
     * You should have received a copy of the GNU Affero General Public License
     * along with Advanced JSON forms (ajf).
     * If not, see http://www.gnu.org/licenses/.
     *
     */
e.AjfCommonModule=d,e.AjfDndDirective=a,e.AjfVideoDirective=y,e.ApplyStylesDirective=o,e.AutofocusDirective=i,e.FormatIfNumber=f,e.TranslateIfString=l,Object.defineProperty(e,"__esModule",{value:!0})}));