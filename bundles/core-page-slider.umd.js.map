{"version":3,"file":"core-page-slider.umd.js","sources":["../../../../../src/core/page-slider/page-slider-item.ts","../../../../../src/core/page-slider/page-slider.ts","../../../../../src/core/page-slider/page-slider-module.ts","../../../../../src/core/page-slider/public-api.ts","../../../../../src/core/page-slider/index.ts"],"sourcesContent":["/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\n/// <reference types=\"resize-observer-browser\" />\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  OnDestroy,\n  Output,\n  Renderer2,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport {Observable, Subscription} from 'rxjs';\nimport {debounceTime} from 'rxjs/operators';\n\nimport {AjfPageSliderItemScrollDirection} from './page-slider-item-scroll-direction';\n\n@Component({\n  selector: 'ajf-page-slider-item',\n  templateUrl: 'page-slider-item.html',\n  styleUrls: ['page-slider-item.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class AjfPageSliderItem implements OnDestroy {\n  @ViewChild('wrapper', {static: true}) wrapper: ElementRef;\n  @ViewChild('content', {static: true}) content: ElementRef;\n\n  private _scrollEvt = new EventEmitter<{x: number, y: number}>();\n  @Output()\n  readonly scroll: Observable<{x: number, y: number}> =\n      this._scrollEvt as Observable<{x: number, y: number}>;\n\n  private _scrollX = 0;\n  private _scrollY = 0;\n  private _resizeObserver: ResizeObserver|null = null;\n  private _resizeEvent: EventEmitter<void> = new EventEmitter<void>();\n  private _resizeSub: Subscription = Subscription.EMPTY;\n\n  constructor(\n      private _el: ElementRef,\n      private _renderer: Renderer2,\n  ) {\n    if (typeof ResizeObserver !== 'undefined') {\n      this._resizeObserver = new ResizeObserver(() => this._onResize());\n      this._resizeObserver.observe(this._el.nativeElement);\n    }\n\n    this._resizeSub = this._resizeEvent\n                          .pipe(\n                              debounceTime(300),\n                              )\n                          .subscribe(() => this._fixScrollOnResize());\n  }\n\n  ngOnDestroy(): void {\n    if (this._resizeObserver) {\n      this._resizeObserver.unobserve(this._el.nativeElement);\n    }\n    this._resizeEvent.complete();\n    this._resizeSub.unsubscribe();\n  }\n\n  setScroll(dir: AjfPageSliderItemScrollDirection, amount: number, _duration: number): boolean {\n    if (this._el == null || this.wrapper == null || amount === 0) {\n      return false;\n    }\n    const el = this._el.nativeElement;\n    const wrapper = this.wrapper.nativeElement;\n    let containerSize, wrapperSize, currentScroll;\n    if (dir === 'x') {\n      containerSize = el.clientWidth;\n      wrapperSize = wrapper.clientWidth;\n      currentScroll = this._scrollX;\n    } else {\n      containerSize = el.clientHeight;\n      wrapperSize = wrapper.clientHeight;\n      currentScroll = this._scrollY;\n    }\n    const maxScroll = containerSize - wrapperSize;\n    if (wrapperSize <= containerSize || (currentScroll === maxScroll && amount < 0) ||\n        (currentScroll === 0 && amount > 0)) {\n      return false;\n    }\n    if (amount < 0) {\n      if (dir === 'x') {\n        this._scrollX = Math.max(maxScroll, this._scrollX + amount);\n      } else {\n        this._scrollY = Math.max(maxScroll, this._scrollY + amount);\n      }\n    } else {\n      if (dir === 'x') {\n        this._scrollX = Math.min(0, this._scrollX + amount);\n      } else {\n        this._scrollY = Math.min(0, this._scrollY + amount);\n      }\n    }\n    this._renderer.setStyle(\n        wrapper, 'transform', `translate(${this._scrollX}px, ${this._scrollY}px)`);\n    this._scrollEvt.emit({x: this._scrollX, y: this._scrollY});\n    return true;\n  }\n\n  private _onResize(): void {\n    this._resizeEvent.emit();\n  }\n\n  private _fixScrollOnResize(): void {\n    if (this.content == null || this.wrapper == null) {\n      return;\n    }\n    const content = this.content.nativeElement;\n    const wrapper = this.wrapper.nativeElement;\n    const maxScrollX = Math.min(0, content.clientWidth - wrapper.clientWidth);\n    const maxScrollY = Math.min(0, content.clientHeight - wrapper.clientHeight);\n    if (maxScrollX !== 0 || maxScrollY !== 0 || (maxScrollX === 0 && this._scrollX !== 0) ||\n        (maxScrollY === 0 && this._scrollY !== 0)) {\n      this._scrollX = Math.max(\n          maxScrollX, this._scrollX - (content.scrollLeft != null ? content.scrollLeft : 0));\n      this._scrollY =\n          Math.max(maxScrollY, this._scrollY - (content.scrollTop != null ? content.scrollTop : 0));\n      content.scrollTop = content.scrollLeft = 0;\n      this._renderer.setStyle(\n          wrapper, 'transform', `translate(${this._scrollX}px, ${this._scrollY}px)`);\n      this._scrollEvt.emit({x: this._scrollX, y: this._scrollY});\n    }\n  }\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {animate, AnimationBuilder, style} from '@angular/animations';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {\n  AfterContentInit,\n  ChangeDetectorRef,\n  ContentChildren,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Output,\n  QueryList,\n  Renderer2,\n  ViewChild\n} from '@angular/core';\nimport {Observable, Subscription} from 'rxjs';\nimport {filter, map, scan, throttleTime} from 'rxjs/operators';\n\nimport {AjfPageSliderItem} from './page-slider-item';\nimport {AjfPageSliderSlideOptions} from './page-slider-slide-options';\n\nexport type AjfPageSliderOrientation = 'horizontal'|'vertical';\n\ninterface Point {\n  x: number;\n  y: number;\n  time: number;\n}\n\ninterface Movement {\n  velocityX: number;\n  velocityY: number;\n  deltaX: number;\n  deltaY: number;\n  deltaTime: number;\n}\n\ninterface MousheWheelMove {\n  dir: 'x'|'y';\n  amount: number;\n}\n\n@Directive()\nexport class AjfPageSlider implements AfterContentInit, OnDestroy {\n  @ViewChild('body', {static: true}) body: ElementRef;\n  @ContentChildren(AjfPageSliderItem, {descendants: true}) pages: QueryList<AjfPageSliderItem>;\n\n  private _pageScrollFinish: EventEmitter<void> = new EventEmitter<void>();\n  @Output()\n  readonly pageScrollFinish: Observable<void> = this._pageScrollFinish as Observable<void>;\n\n  private _orientationChange: EventEmitter<AjfPageSliderOrientation> =\n      new EventEmitter<AjfPageSliderOrientation>();\n  @Output()\n  readonly orientationChange: Observable<AjfPageSliderOrientation> =\n      this._orientationChange as Observable<AjfPageSliderOrientation>;\n\n  @Input() duration = 300;\n\n  private _orientation: AjfPageSliderOrientation = 'horizontal';\n  get orientation(): AjfPageSliderOrientation {\n    return this._orientation;\n  }\n  @Input()\n  set orientation(orientation: AjfPageSliderOrientation) {\n    if (this._orientation !== orientation) {\n      this._orientation = orientation;\n      this._cdr.markForCheck();\n      this._updateSize();\n      this._restoreCurrentPage();\n      this._orientationChange.emit(this._orientation);\n    }\n  }\n\n  private _fixedOrientation = false;\n  get fixedOrientation(): boolean {\n    return this._fixedOrientation;\n  }\n  @Input()\n  set fixedOrientation(fixedOrientation: boolean) {\n    this._fixedOrientation = coerceBooleanProperty(fixedOrientation);\n    this._cdr.markForCheck();\n  }\n\n  private _currentPage = -1;\n  get currentPage(): number {\n    return this._currentPage;\n  }\n  @Input()\n  set currentPage(currentPage: number) {\n    if (this.pages == null || currentPage < 0 || currentPage >= this.pages.length) {\n      return;\n    }\n    this._currentPage = currentPage;\n    this._doSlide();\n  }\n\n  private _hideNavigationButtons: boolean;\n  get hideNavigationButtons(): boolean {\n    return this._hideNavigationButtons;\n  }\n  @Input()\n  set hideNavigationButtons(hnb: boolean) {\n    this._hideNavigationButtons = coerceBooleanProperty(hnb);\n    this._cdr.markForCheck();\n  }\n\n  private _animating = false;\n  private _pagesSub: Subscription = Subscription.EMPTY;\n\n  private _currentOrigin: Point|null;\n  private _mouseWheelEvt: EventEmitter<MousheWheelMove> = new EventEmitter<MousheWheelMove>();\n  private _mouseWheelSub: Subscription = Subscription.EMPTY;\n\n  constructor(\n      private _animationBuilder: AnimationBuilder, private _cdr: ChangeDetectorRef,\n      private _renderer: Renderer2) {\n    this._mouseWheelSub =\n        this._mouseWheelEvt\n            .pipe(\n                map(evt => {\n                  const page = this._getCurrentPage();\n                  if (page == null) {\n                    return null;\n                  }\n                  return {evt, res: page.setScroll(evt.dir, evt.amount, 0)};\n                }),\n                filter(\n                    r => r != null && r.res === false &&\n                        ((r.evt.dir === 'x' && this.orientation === 'horizontal') ||\n                         (r.evt.dir === 'y' && this.orientation === 'vertical'))),\n                map(r => r!.evt.amount),\n                scan(\n                    (acc, val) => {\n                      if (acc === 0) {\n                        return val;\n                      }\n                      if (acc / Math.abs(acc) !== val / Math.abs(val)) {\n                        return 0;\n                      }\n                      return acc + val;\n                    },\n                    0),\n                filter(val => !this._animating && Math.abs(val) > 150),\n                throttleTime(1500),\n                )\n            .subscribe(val => {\n              this._mouseWheelEvt.emit({dir: 'x', amount: val > 0 ? -1 : +1});\n              this.slide({dir: val > 0 ? 'back' : 'forward'});\n            });\n  }\n\n  ngAfterContentInit(): void {\n    this._onSlidesChange();\n    this._pagesSub = this.pages.changes.subscribe(() => this._onSlidesChange());\n  }\n\n  ngOnDestroy(): void {\n    this._pagesSub.unsubscribe();\n    this._mouseWheelEvt.complete();\n    this._mouseWheelSub.unsubscribe();\n    this._orientationChange.complete();\n  }\n\n  switchOrientation(): void {\n    if (this._orientation === 'horizontal') {\n      this.orientation = 'vertical';\n    } else {\n      this.orientation = 'horizontal';\n    }\n  }\n\n  slide(opts: AjfPageSliderSlideOptions): void {\n    if (this.pages == null) {\n      return;\n    }\n    if (opts.dir) {\n      if (opts.dir === 'back' || opts.dir === 'up' || opts.dir === 'left') {\n        this._slideBack();\n      } else if (opts.dir === 'forward' || opts.dir === 'down' || opts.dir === 'right') {\n        this._slideForward();\n      }\n    } else if (opts.to) {\n      this._slideTo(opts.to);\n    }\n  }\n\n  onMouseWheel(event: Event): void {\n    const evt = event as WheelEvent;\n    if (evt.deltaX == null || evt.deltaY == null) {\n      return;\n    }\n    const absDeltaX = Math.abs(evt.deltaX);\n    const absDeltaY = Math.abs(evt.deltaY);\n    if (absDeltaX === 0 && absDeltaY === 0) {\n      return;\n    }\n    if (absDeltaX > absDeltaY) {\n      this._mouseWheelEvt.emit({dir: 'x', amount: -evt.deltaX});\n    } else {\n      this._mouseWheelEvt.emit({dir: 'y', amount: -evt.deltaY});\n    }\n  }\n\n  onTouchStart(evt: TouchEvent): void {\n    if (evt.touches == null || evt.touches.length === 0 || this._animating) {\n      return;\n    }\n    this._currentOrigin = {x: evt.touches[0].clientX, y: evt.touches[0].clientY, time: +new Date()};\n  }\n\n  onTouchMove(evt: TouchEvent): void {\n    if (evt.touches == null || evt.touches.length === 0 || this._currentOrigin == null ||\n        this._animating) {\n      return;\n    }\n    const point: Point = {x: evt.touches[0].clientX, y: evt.touches[0].clientY, time: +new Date()};\n    const movement = this._calculateMovement(point);\n    this._currentOrigin = point;\n\n    if (movement.velocityX === 0 && movement.velocityY === 0) {\n      return;\n    }\n    const absVelocityX = Math.abs(movement.velocityX);\n    const absVelocityY = Math.abs(movement.velocityY);\n    if (absVelocityX > absVelocityY) {\n      if (this.orientation === 'horizontal' && absVelocityX > 1.5 &&\n          Math.abs(movement.deltaX) > 50) {\n        this._resetCurrentOrigin();\n        this.slide({dir: movement.velocityX < 0 ? 'forward' : 'back'});\n      } else {\n        const page = this._getCurrentPage();\n        if (page != null) {\n          page.setScroll('x', movement.deltaX, movement.deltaTime);\n        }\n      }\n    } else {\n      if (this.orientation === 'vertical' && absVelocityY > 1.5 && Math.abs(movement.deltaY) > 50) {\n        this._resetCurrentOrigin();\n        this.slide({dir: movement.velocityY < 0 ? 'forward' : 'back'});\n      } else {\n        const page = this._getCurrentPage();\n        if (page != null) {\n          page.setScroll('y', movement.deltaY, movement.deltaTime);\n        }\n      }\n    }\n  }\n\n  onTouchEnd(): void {\n    this._resetCurrentOrigin();\n  }\n\n  isCurrentPageLong(): boolean {\n    const curPage = this._getCurrentPage();\n    if (curPage == null) {\n      return false;\n    }\n    return curPage.wrapper.nativeElement.clientHeight > curPage.content.nativeElement.clientHeight;\n  }\n\n  private _resetCurrentOrigin(): void {\n    this._currentOrigin = null;\n  }\n\n  private _getCurrentPage(): AjfPageSliderItem|null {\n    if (this.pages == null || this.currentPage < 0 || this.currentPage >= this.pages.length) {\n      return null;\n    }\n    return this.pages.toArray()[this.currentPage];\n  }\n\n  private _calculateMovement(point: Point): Movement {\n    const deltaX = point.x - this._currentOrigin!.x;\n    const deltaY = point.y - this._currentOrigin!.y;\n    const deltaTime = point.time - this._currentOrigin!.time;\n    return {\n      velocityX: deltaX / deltaTime,\n      deltaX,\n      velocityY: deltaY / deltaTime,\n      deltaY,\n      deltaTime,\n    };\n  }\n\n  private _slideBack(): void {\n    if (this._currentPage <= 0) {\n      return;\n    }\n    this.currentPage = this._currentPage - 1;\n  }\n\n  private _slideForward(): void {\n    if (this._currentPage >= this.pages.length) {\n      return;\n    }\n    this.currentPage = this._currentPage + 1;\n  }\n\n  private _slideTo(page: number): void {\n    if (page >= 0 && page < this.pages.length) {\n      this.currentPage = page;\n    }\n  }\n\n  private _doSlide(immediate = false): void {\n    if (this.body == null || this.pages == null || this._animating) {\n      return;\n    }\n    this._animating = true;\n    const animation = this._animationBuilder.build(\n        animate(immediate ? 0 : this.duration, style({transform: this._getCurrentTranslation()})));\n\n    const player = animation.create(this.body.nativeElement);\n    player.onDone(() => {\n      this._animating = false;\n      this._pageScrollFinish.emit();\n    });\n    player.play();\n  }\n\n  private _getCurrentTranslation(): string {\n    const slideSize = 100 / this.pages.length;\n    const position = this._currentPage === -1 ? 0 : this._currentPage * slideSize;\n    const translation = this._orientation === 'vertical' ? 'Y' : 'X';\n    return `translate${translation}(-${position}%)`;\n  }\n\n  private _getProps(): {prop: string, removeProp: string} {\n    if (this._orientation === 'vertical') {\n      return {prop: 'height', removeProp: 'width'};\n    }\n    return {prop: 'width', removeProp: 'height'};\n  }\n\n  private _onSlidesChange(): void {\n    this._updateSize();\n  }\n\n  private _updateSize(): void {\n    if (this.body == null || this.pages == null) {\n      return;\n    }\n    const {prop, removeProp} = this._getProps();\n    this._renderer.setStyle(this.body.nativeElement, prop, `${this.pages.length * 100}%`);\n    this._renderer.setStyle(this.body.nativeElement, removeProp, null);\n    let curPage: number;\n    if (this.pages.length === 0) {\n      curPage = -1;\n    } else if (this._currentPage === -1) {\n      curPage = 0;\n    } else if (this._currentPage >= this.pages.length) {\n      curPage = this.pages.length - 1;\n    } else {\n      curPage = this._currentPage;\n    }\n    this._currentPage = curPage;\n    this._restoreCurrentPage();\n  }\n\n  private _restoreCurrentPage(): void {\n    this._doSlide(true);\n  }\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {NgModule} from '@angular/core';\n\nimport {AjfPageSliderItem} from './page-slider-item';\n\n@NgModule({\n  declarations: [\n    AjfPageSliderItem,\n  ],\n  exports: [\n    AjfPageSliderItem,\n  ]\n})\nexport class AjfPageSliderModule {\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nexport * from './page-slider-item';\nexport * from './page-slider-item-scroll-direction';\nexport * from './page-slider-slide-options';\nexport * from './page-slider';\nexport * from './page-slider-module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["EventEmitter","Subscription","debounceTime","Component","ChangeDetectionStrategy","ViewEncapsulation","ElementRef","Renderer2","ViewChild","Output","map","filter","scan","throttleTime","coerceBooleanProperty","animate","style","Directive","AnimationBuilder","ChangeDetectorRef","ContentChildren","Input","NgModule"],"mappings":";;;;;;IAAA;;;;;;;;;;;;;;;;;;;;;AAsBA;QAwCE,2BACY,GAAe,EACf,SAAoB;YAFhC,iBAcC;YAbW,QAAG,GAAH,GAAG,CAAY;YACf,cAAS,GAAT,SAAS,CAAW;YAbxB,eAAU,GAAG,IAAIA,iBAAY,EAA0B,CAAC;YAEvD,WAAM,GACX,IAAI,CAAC,UAAgD,CAAC;YAElD,aAAQ,GAAG,CAAC,CAAC;YACb,aAAQ,GAAG,CAAC,CAAC;YACb,oBAAe,GAAwB,IAAI,CAAC;YAC5C,iBAAY,GAAuB,IAAIA,iBAAY,EAAQ,CAAC;YAC5D,eAAU,GAAiBC,iBAAY,CAAC,KAAK,CAAC;YAMpD,IAAI,OAAO,cAAc,KAAK,WAAW,EAAE;gBACzC,IAAI,CAAC,eAAe,GAAG,IAAI,cAAc,CAAC,cAAM,OAAA,KAAI,CAAC,SAAS,EAAE,GAAA,CAAC,CAAC;gBAClE,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;aACtD;YAED,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY;iBACZ,IAAI,CACDC,sBAAY,CAAC,GAAG,CAAC,CAChB;iBACJ,SAAS,CAAC,cAAM,OAAA,KAAI,CAAC,kBAAkB,EAAE,GAAA,CAAC,CAAC;SACnE;QAED,uCAAW,GAAX;YACE,IAAI,IAAI,CAAC,eAAe,EAAE;gBACxB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;aACxD;YACD,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;YAC7B,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;SAC/B;QAED,qCAAS,GAAT,UAAU,GAAqC,EAAE,MAAc,EAAE,SAAiB;YAChF,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,IAAI,MAAM,KAAK,CAAC,EAAE;gBAC5D,OAAO,KAAK,CAAC;aACd;YACD,IAAM,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC;YAClC,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;YAC3C,IAAI,aAAa,EAAE,WAAW,EAAE,aAAa,CAAC;YAC9C,IAAI,GAAG,KAAK,GAAG,EAAE;gBACf,aAAa,GAAG,EAAE,CAAC,WAAW,CAAC;gBAC/B,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;gBAClC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC;aAC/B;iBAAM;gBACL,aAAa,GAAG,EAAE,CAAC,YAAY,CAAC;gBAChC,WAAW,GAAG,OAAO,CAAC,YAAY,CAAC;gBACnC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC;aAC/B;YACD,IAAM,SAAS,GAAG,aAAa,GAAG,WAAW,CAAC;YAC9C,IAAI,WAAW,IAAI,aAAa,KAAK,aAAa,KAAK,SAAS,IAAI,MAAM,GAAG,CAAC,CAAC;iBAC1E,aAAa,KAAK,CAAC,IAAI,MAAM,GAAG,CAAC,CAAC,EAAE;gBACvC,OAAO,KAAK,CAAC;aACd;YACD,IAAI,MAAM,GAAG,CAAC,EAAE;gBACd,IAAI,GAAG,KAAK,GAAG,EAAE;oBACf,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC;iBAC7D;qBAAM;oBACL,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC;iBAC7D;aACF;iBAAM;gBACL,IAAI,GAAG,KAAK,GAAG,EAAE;oBACf,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC;iBACrD;qBAAM;oBACL,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC;iBACrD;aACF;YACD,IAAI,CAAC,SAAS,CAAC,QAAQ,CACnB,OAAO,EAAE,WAAW,EAAE,eAAa,IAAI,CAAC,QAAQ,YAAO,IAAI,CAAC,QAAQ,QAAK,CAAC,CAAC;YAC/E,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,EAAE,IAAI,CAAC,QAAQ,EAAC,CAAC,CAAC;YAC3D,OAAO,IAAI,CAAC;SACb;QAEO,qCAAS,GAAT;YACN,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;SAC1B;QAEO,8CAAkB,GAAlB;YACN,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,EAAE;gBAChD,OAAO;aACR;YACD,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;YAC3C,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;YAC3C,IAAM,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;YAC1E,IAAM,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;YAC5E,IAAI,UAAU,KAAK,CAAC,IAAI,UAAU,KAAK,CAAC,KAAK,UAAU,KAAK,CAAC,IAAI,IAAI,CAAC,QAAQ,KAAK,CAAC,CAAC;iBAChF,UAAU,KAAK,CAAC,IAAI,IAAI,CAAC,QAAQ,KAAK,CAAC,CAAC,EAAE;gBAC7C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CACpB,UAAU,EAAE,IAAI,CAAC,QAAQ,IAAI,OAAO,CAAC,UAAU,IAAI,IAAI,GAAG,OAAO,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC;gBACvF,IAAI,CAAC,QAAQ;oBACT,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,IAAI,OAAO,CAAC,SAAS,IAAI,IAAI,GAAG,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC9F,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,UAAU,GAAG,CAAC,CAAC;gBAC3C,IAAI,CAAC,SAAS,CAAC,QAAQ,CACnB,OAAO,EAAE,WAAW,EAAE,eAAa,IAAI,CAAC,QAAQ,YAAO,IAAI,CAAC,QAAQ,QAAK,CAAC,CAAC;gBAC/E,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,EAAE,IAAI,CAAC,QAAQ,EAAC,CAAC,CAAC;aAC5D;SACF;;;;gBA7GFC,cAAS,SAAC;oBACT,QAAQ,EAAE,sBAAsB;oBAChC,qLAAoC;oBAEpC,eAAe,EAAEC,4BAAuB,CAAC,MAAM;oBAC/C,aAAa,EAAEC,sBAAiB,CAAC,IAAI;;iBACtC;;;gBAnBCC,eAAU;gBAIVC,cAAS;;;0BAiBRC,cAAS,SAAC,SAAS,EAAE,EAAC,MAAM,EAAE,IAAI,EAAC;0BACnCA,cAAS,SAAC,SAAS,EAAE,EAAC,MAAM,EAAE,IAAI,EAAC;yBAGnCC,WAAM;;;ICpDT;;;;;;;;;;;;;;;;;;;;;AAsBA;QAmHE,uBACY,iBAAmC,EAAU,IAAuB,EACpE,SAAoB;YAFhC,iBAoCC;YAnCW,sBAAiB,GAAjB,iBAAiB,CAAkB;YAAU,SAAI,GAAJ,IAAI,CAAmB;YACpE,cAAS,GAAT,SAAS,CAAW;YArExB,sBAAiB,GAAuB,IAAIT,iBAAY,EAAQ,CAAC;YAEhE,qBAAgB,GAAqB,IAAI,CAAC,iBAAqC,CAAC;YAEjF,uBAAkB,GACtB,IAAIA,iBAAY,EAA4B,CAAC;YAExC,sBAAiB,GACtB,IAAI,CAAC,kBAA0D,CAAC;YAE3D,aAAQ,GAAG,GAAG,CAAC;YAEhB,iBAAY,GAA6B,YAAY,CAAC;YAetD,sBAAiB,GAAG,KAAK,CAAC;YAU1B,iBAAY,GAAG,CAAC,CAAC,CAAC;YAuBlB,eAAU,GAAG,KAAK,CAAC;YACnB,cAAS,GAAiBC,iBAAY,CAAC,KAAK,CAAC;YAG7C,mBAAc,GAAkC,IAAID,iBAAY,EAAmB,CAAC;YACpF,mBAAc,GAAiBC,iBAAY,CAAC,KAAK,CAAC;YAKxD,IAAI,CAAC,cAAc;gBACf,IAAI,CAAC,cAAc;qBACd,IAAI,CACDS,aAAG,CAAC,UAAA,GAAG;oBACL,IAAM,IAAI,GAAG,KAAI,CAAC,eAAe,EAAE,CAAC;oBACpC,IAAI,IAAI,IAAI,IAAI,EAAE;wBAChB,OAAO,IAAI,CAAC;qBACb;oBACD,OAAO,EAAC,GAAG,KAAA,EAAE,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC,EAAC,CAAC;iBAC3D,CAAC,EACFC,gBAAM,CACF,UAAA,CAAC,IAAI,OAAA,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,GAAG,KAAK,KAAK;qBAC5B,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,KAAK,GAAG,IAAI,KAAI,CAAC,WAAW,KAAK,YAAY;yBACtD,CAAC,CAAC,GAAG,CAAC,GAAG,KAAK,GAAG,IAAI,KAAI,CAAC,WAAW,KAAK,UAAU,CAAC,CAAC,GAAA,CAAC,EACjED,aAAG,CAAC,UAAA,CAAC,IAAI,OAAA,CAAE,CAAC,GAAG,CAAC,MAAM,GAAA,CAAC,EACvBE,cAAI,CACA,UAAC,GAAG,EAAE,GAAG;oBACP,IAAI,GAAG,KAAK,CAAC,EAAE;wBACb,OAAO,GAAG,CAAC;qBACZ;oBACD,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;wBAC/C,OAAO,CAAC,CAAC;qBACV;oBACD,OAAO,GAAG,GAAG,GAAG,CAAC;iBAClB,EACD,CAAC,CAAC,EACND,gBAAM,CAAC,UAAA,GAAG,IAAI,OAAA,CAAC,KAAI,CAAC,UAAU,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAA,CAAC,EACtDE,sBAAY,CAAC,IAAI,CAAC,CACjB;qBACJ,SAAS,CAAC,UAAA,GAAG;oBACZ,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC,CAAC;oBAChE,KAAI,CAAC,KAAK,CAAC,EAAC,GAAG,EAAE,GAAG,GAAG,CAAC,GAAG,MAAM,GAAG,SAAS,EAAC,CAAC,CAAC;iBACjD,CAAC,CAAC;SACZ;QA1FD,sBAAI,sCAAW;iBAAf;gBACE,OAAO,IAAI,CAAC,YAAY,CAAC;aAC1B;iBACD,UACgB,WAAqC;gBACnD,IAAI,IAAI,CAAC,YAAY,KAAK,WAAW,EAAE;oBACrC,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;oBAChC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;oBACzB,IAAI,CAAC,WAAW,EAAE,CAAC;oBACnB,IAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;iBACjD;aACF;;;WAVA;QAaD,sBAAI,2CAAgB;iBAApB;gBACE,OAAO,IAAI,CAAC,iBAAiB,CAAC;aAC/B;iBACD,UACqB,gBAAyB;gBAC5C,IAAI,CAAC,iBAAiB,GAAGC,8BAAqB,CAAC,gBAAgB,CAAC,CAAC;gBACjE,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;aAC1B;;;WALA;QAQD,sBAAI,sCAAW;iBAAf;gBACE,OAAO,IAAI,CAAC,YAAY,CAAC;aAC1B;iBACD,UACgB,WAAmB;gBACjC,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,WAAW,GAAG,CAAC,IAAI,WAAW,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;oBAC7E,OAAO;iBACR;gBACD,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;gBAChC,IAAI,CAAC,QAAQ,EAAE,CAAC;aACjB;;;WARA;QAWD,sBAAI,gDAAqB;iBAAzB;gBACE,OAAO,IAAI,CAAC,sBAAsB,CAAC;aACpC;iBACD,UAC0B,GAAY;gBACpC,IAAI,CAAC,sBAAsB,GAAGA,8BAAqB,CAAC,GAAG,CAAC,CAAC;gBACzD,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;aAC1B;;;WALA;QAoDD,0CAAkB,GAAlB;YAAA,iBAGC;YAFC,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,cAAM,OAAA,KAAI,CAAC,eAAe,EAAE,GAAA,CAAC,CAAC;SAC7E;QAED,mCAAW,GAAX;YACE,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YAC7B,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC;YAC/B,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;YAClC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE,CAAC;SACpC;QAED,yCAAiB,GAAjB;YACE,IAAI,IAAI,CAAC,YAAY,KAAK,YAAY,EAAE;gBACtC,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;aAC/B;iBAAM;gBACL,IAAI,CAAC,WAAW,GAAG,YAAY,CAAC;aACjC;SACF;QAED,6BAAK,GAAL,UAAM,IAA+B;YACnC,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,EAAE;gBACtB,OAAO;aACR;YACD,IAAI,IAAI,CAAC,GAAG,EAAE;gBACZ,IAAI,IAAI,CAAC,GAAG,KAAK,MAAM,IAAI,IAAI,CAAC,GAAG,KAAK,IAAI,IAAI,IAAI,CAAC,GAAG,KAAK,MAAM,EAAE;oBACnE,IAAI,CAAC,UAAU,EAAE,CAAC;iBACnB;qBAAM,IAAI,IAAI,CAAC,GAAG,KAAK,SAAS,IAAI,IAAI,CAAC,GAAG,KAAK,MAAM,IAAI,IAAI,CAAC,GAAG,KAAK,OAAO,EAAE;oBAChF,IAAI,CAAC,aAAa,EAAE,CAAC;iBACtB;aACF;iBAAM,IAAI,IAAI,CAAC,EAAE,EAAE;gBAClB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;aACxB;SACF;QAED,oCAAY,GAAZ,UAAa,KAAY;YACvB,IAAM,GAAG,GAAG,KAAmB,CAAC;YAChC,IAAI,GAAG,CAAC,MAAM,IAAI,IAAI,IAAI,GAAG,CAAC,MAAM,IAAI,IAAI,EAAE;gBAC5C,OAAO;aACR;YACD,IAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACvC,IAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACvC,IAAI,SAAS,KAAK,CAAC,IAAI,SAAS,KAAK,CAAC,EAAE;gBACtC,OAAO;aACR;YACD,IAAI,SAAS,GAAG,SAAS,EAAE;gBACzB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,GAAG,EAAE,MAAM,EAAE,CAAC,GAAG,CAAC,MAAM,EAAC,CAAC,CAAC;aAC3D;iBAAM;gBACL,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,GAAG,EAAE,MAAM,EAAE,CAAC,GAAG,CAAC,MAAM,EAAC,CAAC,CAAC;aAC3D;SACF;QAED,oCAAY,GAAZ,UAAa,GAAe;YAC1B,IAAI,GAAG,CAAC,OAAO,IAAI,IAAI,IAAI,GAAG,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC,UAAU,EAAE;gBACtE,OAAO;aACR;YACD,IAAI,CAAC,cAAc,GAAG,EAAC,CAAC,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,EAAC,CAAC;SACjG;QAED,mCAAW,GAAX,UAAY,GAAe;YACzB,IAAI,GAAG,CAAC,OAAO,IAAI,IAAI,IAAI,GAAG,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI;gBAC9E,IAAI,CAAC,UAAU,EAAE;gBACnB,OAAO;aACR;YACD,IAAM,KAAK,GAAU,EAAC,CAAC,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,EAAC,CAAC;YAC/F,IAAM,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAE5B,IAAI,QAAQ,CAAC,SAAS,KAAK,CAAC,IAAI,QAAQ,CAAC,SAAS,KAAK,CAAC,EAAE;gBACxD,OAAO;aACR;YACD,IAAM,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;YAClD,IAAM,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;YAClD,IAAI,YAAY,GAAG,YAAY,EAAE;gBAC/B,IAAI,IAAI,CAAC,WAAW,KAAK,YAAY,IAAI,YAAY,GAAG,GAAG;oBACvD,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE;oBAClC,IAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,IAAI,CAAC,KAAK,CAAC,EAAC,GAAG,EAAE,QAAQ,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,GAAG,MAAM,EAAC,CAAC,CAAC;iBAChE;qBAAM;oBACL,IAAM,IAAI,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;oBACpC,IAAI,IAAI,IAAI,IAAI,EAAE;wBAChB,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC;qBAC1D;iBACF;aACF;iBAAM;gBACL,IAAI,IAAI,CAAC,WAAW,KAAK,UAAU,IAAI,YAAY,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE;oBAC3F,IAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,IAAI,CAAC,KAAK,CAAC,EAAC,GAAG,EAAE,QAAQ,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,GAAG,MAAM,EAAC,CAAC,CAAC;iBAChE;qBAAM;oBACL,IAAM,IAAI,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;oBACpC,IAAI,IAAI,IAAI,IAAI,EAAE;wBAChB,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC;qBAC1D;iBACF;aACF;SACF;QAED,kCAAU,GAAV;YACE,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC5B;QAED,yCAAiB,GAAjB;YACE,IAAM,OAAO,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;YACvC,IAAI,OAAO,IAAI,IAAI,EAAE;gBACnB,OAAO,KAAK,CAAC;aACd;YACD,OAAO,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,YAAY,GAAG,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,YAAY,CAAC;SAChG;QAEO,2CAAmB,GAAnB;YACN,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;SAC5B;QAEO,uCAAe,GAAf;YACN,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;gBACvF,OAAO,IAAI,CAAC;aACb;YACD,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAC/C;QAEO,0CAAkB,GAAlB,UAAmB,KAAY;YACrC,IAAM,MAAM,GAAG,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,cAAe,CAAC,CAAC,CAAC;YAChD,IAAM,MAAM,GAAG,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,cAAe,CAAC,CAAC,CAAC;YAChD,IAAM,SAAS,GAAG,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,cAAe,CAAC,IAAI,CAAC;YACzD,OAAO;gBACL,SAAS,EAAE,MAAM,GAAG,SAAS;gBAC7B,MAAM,QAAA;gBACN,SAAS,EAAE,MAAM,GAAG,SAAS;gBAC7B,MAAM,QAAA;gBACN,SAAS,WAAA;aACV,CAAC;SACH;QAEO,kCAAU,GAAV;YACN,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC,EAAE;gBAC1B,OAAO;aACR;YACD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;SAC1C;QAEO,qCAAa,GAAb;YACN,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;gBAC1C,OAAO;aACR;YACD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;SAC1C;QAEO,gCAAQ,GAAR,UAAS,IAAY;YAC3B,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;gBACzC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;aACzB;SACF;QAEO,gCAAQ,GAAR,UAAS,SAAiB;YAA1B,iBAcP;YAdgB,0BAAA,EAAA,iBAAiB;YAChC,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,UAAU,EAAE;gBAC9D,OAAO;aACR;YACD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAM,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAC1CC,kBAAO,CAAC,SAAS,GAAG,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAEC,gBAAK,CAAC,EAAC,SAAS,EAAE,IAAI,CAAC,sBAAsB,EAAE,EAAC,CAAC,CAAC,CAAC,CAAC;YAE/F,IAAM,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACzD,MAAM,CAAC,MAAM,CAAC;gBACZ,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,KAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;aAC/B,CAAC,CAAC;YACH,MAAM,CAAC,IAAI,EAAE,CAAC;SACf;QAEO,8CAAsB,GAAtB;YACN,IAAM,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAC1C,IAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;YAC9E,IAAM,WAAW,GAAG,IAAI,CAAC,YAAY,KAAK,UAAU,GAAG,GAAG,GAAG,GAAG,CAAC;YACjE,OAAO,cAAY,WAAW,UAAK,QAAQ,OAAI,CAAC;SACjD;QAEO,iCAAS,GAAT;YACN,IAAI,IAAI,CAAC,YAAY,KAAK,UAAU,EAAE;gBACpC,OAAO,EAAC,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,OAAO,EAAC,CAAC;aAC9C;YACD,OAAO,EAAC,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAC,CAAC;SAC9C;QAEO,uCAAe,GAAf;YACN,IAAI,CAAC,WAAW,EAAE,CAAC;SACpB;QAEO,mCAAW,GAAX;YACN,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,EAAE;gBAC3C,OAAO;aACR;YACK,IAAA,KAAqB,IAAI,CAAC,SAAS,EAAE,EAApC,IAAI,UAAA,EAAE,UAAU,gBAAoB,CAAC;YAC5C,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,EAAK,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,MAAG,CAAC,CAAC;YACtF,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;YACnE,IAAI,OAAe,CAAC;YACpB,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC3B,OAAO,GAAG,CAAC,CAAC,CAAC;aACd;iBAAM,IAAI,IAAI,CAAC,YAAY,KAAK,CAAC,CAAC,EAAE;gBACnC,OAAO,GAAG,CAAC,CAAC;aACb;iBAAM,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;gBACjD,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;aACjC;iBAAM;gBACL,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC;aAC7B;YACD,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC;YAC5B,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC5B;QAEO,2CAAmB,GAAnB;YACN,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SACrB;;;;gBAhUFC,cAAS;;;gBA3COC,2BAAgB;gBAI/BC,sBAAiB;gBASjBZ,cAAS;;;uBAgCRC,cAAS,SAAC,MAAM,EAAE,EAAC,MAAM,EAAE,IAAI,EAAC;wBAChCY,oBAAe,SAAC,iBAAiB,EAAE,EAAC,WAAW,EAAE,IAAI,EAAC;mCAGtDX,WAAM;oCAKNA,WAAM;2BAINY,UAAK;8BAMLA,UAAK;mCAeLA,UAAK;8BAULA,UAAK;wCAaLA,UAAK;;;IC5HR;;;;;;;;;;;;;;;;;;;;;AAsBA;QAYA;;;;;gBARCC,aAAQ,SAAC;oBACR,YAAY,EAAE;wBACZ,iBAAiB;qBAClB;oBACD,OAAO,EAAE;wBACP,iBAAiB;qBAClB;iBACF;;;ICjCD;;;;;;;;;;;;;;;;;;;;OAoBG;;ICpBH;;OAEG;;;;;;;;;;;;;;"}