{"version":3,"file":"core-reports.umd.js","sources":["../../src/core/reports/utils/reports-instances/create-report-instance.ts","../../src/core/reports/utils/reports-instances/create-report-container-instance.ts","../../src/core/reports/utils/widgets-instances/widget-to-widget-instance.ts","../../src/core/reports/utils/widgets-instances/create-widget-instance.ts","../../src/core/reports/utils/aggregation/evaluate-aggregation.ts","../../src/core/reports/widget.ts","../../src/core/reports/serializers/report-serializer.ts","../../src/core/reports/utils/reports/create-report.ts","../../src/core/reports/serializers/report-container-serializer.ts","../../src/core/reports/serializers/widget-serializer.ts","../../src/core/reports/utils/widgets/create-widget.ts","../../src/core/reports/serializers/dataset-serializer.ts","../../src/core/reports/utils/dataset/create-dataset.ts","../../src/core/reports/serializers/aggregation-serializer.ts","../../src/core/reports/utils/aggregation/create-aggregation.ts","../../src/core/reports/reports-module.ts","../../src/core/reports/widget-host.ts","../../src/core/reports/get-column-content.ts","../../src/core/reports/report.ts","../../src/core/reports/interface/widgets/widget-type.ts","../../src/core/reports/interface/aggregation/aggregation-type.ts","../../src/core/reports/chart-utils.ts","../../src/core/reports/interface/charts/chart-type.ts","../../src/core/reports/base-widget.ts","../../node_modules/tslib/tslib.es6.js"],"sourcesContent":["/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfContext} from '@ajf/core/models';\nimport {TranslateService} from '@ngx-translate/core';\n\nimport {AjfReportInstance} from '../../interface/reports-instances/report-instance';\nimport {AjfReport} from '../../interface/reports/report';\n\nimport {createReportContainerInstance} from './create-report-container-instance';\n\nexport function createReportInstance(\n    report: AjfReport, context: AjfContext, ts: TranslateService): AjfReportInstance {\n  return {\n    report,\n    header: report.header ? createReportContainerInstance(report.header, context, ts) : undefined,\n    content: report.content ? createReportContainerInstance(report.content, context, ts) :\n                              undefined,\n    footer: report.footer ? createReportContainerInstance(report.footer, context, ts) : undefined,\n    styles: report.styles || {},\n  };\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfContext} from '@ajf/core/models';\nimport {TranslateService} from '@ngx-translate/core';\n\nimport {\n  AjfReportContainerInstance\n} from '../../interface/reports-instances/report-container-instance';\nimport {AjfReportContainer} from '../../interface/reports/report-container';\nimport {widgetToWidgetInstance} from '../widgets-instances/widget-to-widget-instance';\n\nexport function createReportContainerInstance(\n    container: AjfReportContainer, context: AjfContext,\n    ts: TranslateService): AjfReportContainerInstance {\n  const content = container.content.map(c => widgetToWidgetInstance(c, context, ts));\n  return {\n    container,\n    content,\n    styles: container.styles,\n  };\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfContext, AjfFormula, createFormula, evaluateExpression} from '@ajf/core/models';\nimport {deepCopy} from '@ajf/core/utils';\nimport {TranslateService} from '@ngx-translate/core';\n\nimport {chartToChartJsType} from '../../chart-utils';\nimport {AjfChartWidgetInstance} from '../../interface/widgets-instances/chart-widget-instance';\nimport {AjfFormulaWidgetInstance} from '../../interface/widgets-instances/formula-widget-instance';\nimport {\n  AjfImageContainerWidgetInstance\n} from '../../interface/widgets-instances/image-container-widget-instance';\nimport {AjfImageWidgetInstance} from '../../interface/widgets-instances/image-widget-instance';\nimport {AjfMapWidgetInstance} from '../../interface/widgets-instances/map-widget-instance';\nimport {AjfTableWidgetInstance} from '../../interface/widgets-instances/table-widget-instance';\nimport {AjfTextWidgetInstance} from '../../interface/widgets-instances/text-widget-instance';\nimport {AjfWidgetInstance} from '../../interface/widgets-instances/widget-instance';\nimport {\n  AjfWidgetWithContentInstance\n} from '../../interface/widgets-instances/widget-with-content-instance';\nimport {AjfChartWidget} from '../../interface/widgets/chart-widget';\nimport {AjfFormulaWidget} from '../../interface/widgets/formula-widget';\nimport {AjfImageContainerWidget} from '../../interface/widgets/image-container-widget';\nimport {AjfImageWidget} from '../../interface/widgets/image-widget';\nimport {AjfMapWidget} from '../../interface/widgets/map-widget';\nimport {AjfTableWidget} from '../../interface/widgets/table-widget';\nimport {AjfTextWidget} from '../../interface/widgets/text-widget';\nimport {AjfWidget} from '../../interface/widgets/widget';\nimport {AjfWidgetType} from '../../interface/widgets/widget-type';\nimport {AjfWidgetWithContent} from '../../interface/widgets/widget-with-content';\nimport {evaluateAggregation} from '../aggregation/evaluate-aggregation';\n\nimport {createWidgetInstance} from './create-widget-instance';\n\nexport function widgetToWidgetInstance(\n    widget: AjfWidget, context: AjfContext, ts: TranslateService): AjfWidgetInstance {\n  const wi = createWidgetInstance(widget, context, ts);\n  if (widget.widgetType === AjfWidgetType.Column || widget.widgetType === AjfWidgetType.Layout) {\n    const wwc = widget as AjfWidgetWithContent;\n    const wwci = wi as AjfWidgetWithContentInstance;\n    wwci.content = wwc.content.map(c => widgetToWidgetInstance(c, context, ts));\n  } else if (widget.widgetType === AjfWidgetType.Chart) {\n    const cw = widget as AjfChartWidget;\n    const cwi = wi as AjfChartWidgetInstance;\n    const labels = cw.labels instanceof Array ? cw.labels : [cw.labels];\n    const evLabels = labels.map(l => {\n      let evf = evaluateExpression(l.formula, context);\n      try {\n        if (evf instanceof Array) {\n          evf = evf.map(v => v != null && typeof v === 'string' && v.trim().length > 0\n            ? ts.instant(v) : v);\n        } else {\n          evf = evf != null && typeof evf === 'string' && evf.trim().length > 0\n            ? ts.instant(evf) : evf;\n        }\n      } catch (_e) {\n      }\n      return evf;\n    });\n    cwi.labels = cw.labels instanceof Array ? evLabels : evLabels[0];\n    cwi.datasets = cw.dataset.map(d => {\n      let ds: any = {\n        ...d.options || {},\n        data: evaluateAggregation(d.aggregation, d.formula, context),\n      };\n      if (d.chartType != null) {\n        const ct = chartToChartJsType(d.chartType);\n        ds = {...ds, chartType: ct, type: ct };\n      }\n      if (d.options != null) {\n        ds = {...ds, options: d.options};\n      }\n      if (d.label != null) {\n        ds = {...ds, label: d.label};\n      }\n      if (d.datalabels != null) {\n        ds.datalabels = deepCopy(d.datalabels);\n      }\n      return ds;\n    });\n    cwi.data = {labels: cwi.labels, datasets: cwi.datasets};\n    cwi.chartType = chartToChartJsType(cw.type || cw.chartType);\n  } else if (widget.widgetType === AjfWidgetType.Table) {\n    const tw = widget as AjfTableWidget;\n    const twi = wi as AjfTableWidgetInstance;\n    const trFormula = (f: AjfFormula) => {\n      let formula = f.formula;\n      if (formula.substr(0, 1) === '\"') {\n        const ft = formula.slice(1, -1);\n        const transFt = ft != null && typeof ft === 'string' && ft.trim().length > 0\n          ? ts.instant(ft) : ft;\n        if (ft.length > 0) {\n          formula = `\"${transFt}\"`;\n        }\n      } else {\n        formula = formula != null && typeof formula === 'string' && formula.trim().length > 0\n          ? ts.instant(formula) : formula;\n      }\n      return evaluateExpression(formula, context);\n    };\n    twi.dataset = tw.dataset.map(row => row.map(cell => {\n      return cell.formula instanceof Array ? cell.formula.map(f => trFormula(f as AjfFormula)) :\n                                             trFormula(cell.formula!);\n    }));\n    twi.data = (tw.dataset ||\n                []).map(row => row.map(cell => ({\n                                         value: evaluateExpression(cell.formula.formula, context),\n                                         style: {...tw.cellStyles, ...cell.style},\n                                         rowspan: cell.rowspan,\n                                         colspan: cell.colspan,\n                                       })));\n  } else if (widget.widgetType === AjfWidgetType.Image) {\n    const iw = widget as AjfImageWidget;\n    const iwi = wi as AjfImageWidgetInstance;\n    if (iw.flag) {\n      iwi.flag = evaluateExpression(iw.flag.formula, context);\n    }\n    if (iw.icon) {\n      iwi.icon = evaluateExpression(iw.icon.formula, context);\n    }\n    if (iw.url) {\n      iwi.url = evaluateExpression(iw.url.formula, context);\n    }\n  } else if (widget.widgetType === AjfWidgetType.ImageContainer) {\n    const icw = widget as AjfImageContainerWidget;\n    const icwi = wi as AjfImageContainerWidgetInstance;\n    if (icw.flags) {\n      const flags = icw.flags instanceof Array ? icw.flags : [icw.flags];\n      icwi.flags = flags.map(f => evaluateExpression(f.formula, context));\n    }\n    if (icw.icons) {\n      const icons = icw.icons instanceof Array ? icw.icons : [icw.icons];\n      icwi.icons = icons.map(f => evaluateExpression(f.formula, context));\n    }\n    if (icw.urls) {\n      const urls = icw.urls instanceof Array ? icw.urls : [icw.urls];\n      icwi.urls = urls.map(f => evaluateExpression(f.formula, context));\n    }\n  } else if (widget.widgetType === AjfWidgetType.Text) {\n    const tew = widget as AjfTextWidget;\n    const tewi = wi as AjfTextWidgetInstance;\n    const formulaRegEx: RegExp = /\\[{2}(.+?)\\]{2}/g;\n    const matches: {idx: number, len: number, formula: AjfFormula}[] = [];\n    let match: RegExpExecArray|null;\n    let htmlText = tew.htmlText;\n    while (match = formulaRegEx.exec(htmlText)) {\n      const idx = match.index;\n      const len = match[0].length;\n      const formula = createFormula({formula: match[1]});\n      matches.push({idx, len, formula});\n    }\n    matches.reverse().forEach((m) => {\n      let calcValue;\n      try {\n        calcValue = evaluateExpression(m.formula.formula, context);\n      } catch (e) {\n        calcValue = '';\n      }\n      htmlText = `${htmlText.substr(0, m.idx)}${calcValue}${htmlText.substr(m.idx + m.len)}`;\n    });\n    tewi.htmlText = htmlText != null && htmlText.length > 0 ? ts.instant(htmlText) : htmlText;\n  } else if (widget.widgetType === AjfWidgetType.Formula) {\n    const fw = widget as AjfFormulaWidget;\n    const fwi = wi as AjfFormulaWidgetInstance;\n    fwi.formula = evaluateExpression(fw.formula.formula, context);\n  } else if (widget.widgetType === AjfWidgetType.Map) {\n    const mw = widget as AjfMapWidget;\n    const mwi = wi as AjfMapWidgetInstance;\n    mwi.coordinate = evaluateExpression(mw.coordinate.formula, context);\n  }\n  return wi;\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfContext, evaluateExpression} from '@ajf/core/models';\nimport {TranslateService} from '@ngx-translate/core';\n\nimport {AjfWidgetInstance} from '../../interface/widgets-instances/widget-instance';\nimport {AjfWidget} from '../../interface/widgets/widget';\n\nexport function createWidgetInstance(\n    widget: AjfWidget, context: AjfContext, ts: TranslateService): AjfWidgetInstance {\n  return {\n    widget,\n    widgetType: widget.widgetType,\n    visible: evaluateExpression(widget.visibility.condition, context),\n    styles: widget.styles || {},\n  };\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfContext, AjfFormula, evaluateExpression} from '@ajf/core/models';\nimport {AjfAggregation} from '../../interface/aggregation/aggregation';\nimport {AjfAggregationType} from '../../interface/aggregation/aggregation-type';\n\nexport function evaluateAggregation(\n    aggregation: AjfAggregation, formulas: AjfFormula[], context: AjfContext): number[] {\n  const data: any[] = formulas.map(f => evaluateExpression(f.formula, context));\n  switch (aggregation.aggregation) {\n    case AjfAggregationType.None:\n      if (data.length !== 1) {\n        throw new Error('Invalid aggregation');\n      }\n      return data[0];\n    case AjfAggregationType.Sum:\n      return data.map((r: any) => r.reduce((s: any, d: any) => s + d, 0));\n    case AjfAggregationType.Average:\n    case AjfAggregationType.WeightedAverage:\n      return data.map((r: any) => {\n        const sum = r.reduce((s: any, d: any) => s + d, 0);\n        return sum / data.length;\n      });\n    default:\n      return [];\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AfterViewInit, ComponentFactoryResolver, Renderer2} from '@angular/core';\n\nimport {AjfWidgetInstance} from './interface/widgets-instances/widget-instance';\nimport {AjfWidgetComponentsMap} from './widget-components-map';\nimport {AjfWidgetHost} from './widget-host';\n\nexport abstract class AjfReportWidget implements AfterViewInit {\n  widgetHost: AjfWidgetHost;\n\n  private _instance: AjfWidgetInstance;\n  get instance(): AjfWidgetInstance { return this._instance; }\n  set instance(instance: AjfWidgetInstance) {\n    if (this._instance !== instance) {\n      this._instance = instance;\n      this._loadComponent();\n    }\n  }\n\n  protected abstract widgetsMap: AjfWidgetComponentsMap;\n\n  constructor(private _cfr: ComponentFactoryResolver, private _renderer: Renderer2) { }\n\n  ngAfterViewInit(): void {\n    this._loadComponent();\n  }\n\n  private _loadComponent(): void {\n    if (this._instance == null || this.widgetHost == null) { return; }\n\n    const vcr = this.widgetHost.viewContainerRef;\n    vcr.clear();\n    const componentDef = this.widgetsMap[this._instance.widget.widgetType];\n    if (componentDef == null) { return; }\n    const component = componentDef.component;\n    try {\n      const componentFactory = this._cfr.resolveComponentFactory(component);\n      const componentRef = vcr.createComponent(componentFactory);\n      const componentInstance = componentRef.instance;\n\n      Object.keys(this._instance.widget.styles).forEach((style: string) => {\n        try {\n          this._renderer.setStyle(\n            componentInstance.el.nativeElement,\n            style,\n            `${this._instance.widget.styles[style]}`\n          );\n        } catch (e) { }\n      });\n\n      componentInstance.instance = this._instance;\n      if (componentDef.inputs) {\n        Object.keys(componentDef.inputs).forEach(key => {\n          if (key in componentInstance) {\n            (componentInstance as any)[key] = componentDef.inputs![key];\n          }\n        });\n      }\n    } catch (e) { }\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfReport} from '../interface/reports/report';\nimport {AjfReportContainer} from '../interface/reports/report-container';\nimport {createReport} from '../utils/reports/create-report';\nimport {AjfReportContainerSerializer} from './report-container-serializer';\n\nexport class AjfReportSerializer {\n  static fromJson(json: Partial<AjfReport>): AjfReport {\n    const containers: (keyof AjfReport)[] = ['header', 'footer', 'content'];\n    containers.forEach(c => {\n      if (json[c]) {\n        (json[c] as AjfReportContainer) =\n            AjfReportContainerSerializer.fromJson(json[c] as Partial<AjfReportContainer>);\n      }\n    });\n    return createReport(json);\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfReport} from '../../interface/reports/report';\n\nexport type AjfReportCreate = Partial<AjfReport>;\n\nexport function createReport(report: AjfReportCreate): AjfReport {\n  return {...report};\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfReportContainer} from '../interface/reports/report-container';\nimport {AjfWidgetSerializer} from './widget-serializer';\n\nexport class AjfReportContainerSerializer {\n  static fromJson(json: Partial<AjfReportContainer>): AjfReportContainer {\n    json.content = (json.content || []).map(c => AjfWidgetSerializer.fromJson(c));\n    return {...json, content: json.content!, styles: json.styles || {}};\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfConditionSerializer, AjfFormulaSerializer, alwaysCondition} from '@ajf/core/models';\n\nimport {AjfChartDataset} from '../interface/dataset/chart-dataset';\nimport {AjfTableDataset} from '../interface/dataset/table-dataset';\nimport {AjfChartWidget} from '../interface/widgets/chart-widget';\nimport {AjfDataWidget} from '../interface/widgets/data-widget';\nimport {AjfMapWidget} from '../interface/widgets/map-widget';\nimport {AjfWidget} from '../interface/widgets/widget';\nimport {AjfWidgetType} from '../interface/widgets/widget-type';\nimport {AjfWidgetWithContent} from '../interface/widgets/widget-with-content';\nimport {createWidget} from '../utils/widgets/create-widget';\n\nimport {AjfDatasetSerializer} from './dataset-serializer';\n\nexport class AjfWidgetSerializer {\n  static fromJson(json: Partial<AjfWidget>): AjfWidget {\n    if (json.widgetType == null) {\n      throw new Error('Malformed widget');\n    }\n    json.visibility =\n        json.visibility ? AjfConditionSerializer.fromJson(json.visibility) : alwaysCondition();\n    json.styles = json.styles || {};\n    const obj = json as AjfWidget;\n    if (obj.widgetType === AjfWidgetType.Layout || obj.widgetType === AjfWidgetType.Column) {\n      return AjfWidgetSerializer._widgetWithContentFromJson(obj);\n    }\n    if (obj.widgetType === AjfWidgetType.Chart || obj.widgetType === AjfWidgetType.Table) {\n      const w = AjfWidgetSerializer._dataWidgetFromJson(obj);\n      if (obj.widgetType === AjfWidgetType.Chart) {\n        const cw = w as AjfChartWidget;\n        if (cw.labels instanceof Array) {\n          cw.labels.map(l => AjfFormulaSerializer.fromJson(l));\n        } else if (cw.labels != null) {\n          cw.labels = AjfFormulaSerializer.fromJson(cw.labels);\n        }\n      }\n      return w;\n    }\n    if (obj.widgetType === AjfWidgetType.Map) {\n      const mw = obj as AjfMapWidget;\n      mw.coordinate = AjfFormulaSerializer.fromJson(mw.coordinate);\n    }\n    return obj;\n  }\n\n  private static _dataWidgetFromJson(json: AjfWidget&Partial<AjfDataWidget>): AjfDataWidget {\n    const dataset = json.dataset ?\n        (json.widgetType === AjfWidgetType.Table ?\n             (json.dataset as AjfTableDataset[][])\n                 .map(row => row.map(cell => AjfDatasetSerializer.fromJson(cell))) :\n             (json.dataset as AjfChartDataset[]).map(d => AjfDatasetSerializer.fromJson(d))) :\n        [];\n    return {...createWidget(json), dataset};\n  }\n\n  private static _widgetWithContentFromJson(json: AjfWidget&\n                                           Partial<AjfWidgetWithContent>): AjfWidgetWithContent {\n    const content = (json.content || []).map(c => AjfWidgetSerializer.fromJson(c));\n    return {...createWidget(json), content};\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {alwaysCondition} from '@ajf/core/models';\nimport {AjfWidget} from '../../interface/widgets/widget';\n\nexport type AjfWidgetCreate = Pick<AjfWidget, 'widgetType'>&Partial<AjfWidget>;\n\nexport function createWidget(widget: AjfWidgetCreate): AjfWidget {\n  return {\n    ...widget,\n    styles: widget.styles || {},\n    visibility: widget.visibility || alwaysCondition(),\n  };\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfFormulaSerializer} from '@ajf/core/models';\n\nimport {AjfDataset} from '../interface/dataset/dataset';\nimport {createDataset} from '../utils/dataset/create-dataset';\n\nimport {AjfAggregationSerializer} from './aggregation-serializer';\n\nexport class AjfDatasetSerializer {\n  static fromJson(json: Partial<AjfDataset>): AjfDataset {\n    if (json.formula == null || json.aggregation == null || json.label == null) {\n      throw new Error('Malformed dataset');\n    }\n    json.formula = json.formula instanceof Array ?\n        json.formula = json.formula.map(f => AjfFormulaSerializer.fromJson(f)) :\n        AjfFormulaSerializer.fromJson(json.formula);\n    json.aggregation = AjfAggregationSerializer.fromJson(json.aggregation);\n    return createDataset(json);\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfAggregationType} from '../../interface/aggregation/aggregation-type';\nimport {AjfDataset} from '../../interface/dataset/dataset';\nimport {createAggregation} from '../aggregation/create-aggregation';\n\nexport function createDataset(dataset: Partial<AjfDataset>): AjfDataset {\n  return {\n    ...dataset,\n    aggregation: dataset.aggregation || createAggregation({aggregation: AjfAggregationType.None}),\n  };\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfAggregation} from '../interface/aggregation/aggregation';\nimport {createAggregation} from '../utils/aggregation/create-aggregation';\n\nexport class AjfAggregationSerializer {\n  static fromJson(json: Partial<AjfAggregation>): AjfAggregation {\n    if (json.aggregation == null) {\n      throw new Error('Malformed aggregation');\n    }\n    return createAggregation({...json, aggregation: json.aggregation});\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfAggregation} from '../../interface/aggregation/aggregation';\nimport {AjfAggregationType} from '../../interface/aggregation/aggregation-type';\n\nexport type AjfAggregationCreate = Partial<AjfAggregation>;\n\nexport function createAggregation(aggregation: AjfAggregationCreate): AjfAggregation {\n  return {\n    ...aggregation,\n    aggregation: aggregation.aggregation || AjfAggregationType.None,\n  };\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {NgModule} from '@angular/core';\n\nimport {AjfGetColumnContentPipe} from './get-column-content';\nimport {AjfWidgetHost} from './widget-host';\n\n@NgModule({\n  declarations: [\n    AjfGetColumnContentPipe,\n    AjfWidgetHost,\n  ],\n  exports: [\n    AjfGetColumnContentPipe,\n    AjfWidgetHost,\n  ],\n})\nexport class AjfReportsModule {\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Directive, ViewContainerRef} from '@angular/core';\n\n@Directive({selector: '[ajf-widget-host]'})\nexport class AjfWidgetHost {\n  constructor(readonly viewContainerRef: ViewContainerRef) { }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Pipe} from '@angular/core';\nimport {AjfLayoutWidgetInstance} from './interface/widgets-instances/layout-widget-instance';\nimport {AjfWidgetInstance} from './interface/widgets-instances/widget-instance';\n\n@Pipe({name: 'ajfGetColumnContent'})\nexport class AjfGetColumnContentPipe {\n  transform(instance: AjfLayoutWidgetInstance, column: number): AjfWidgetInstance|null {\n    return column >= 0 && column < instance.content.length ? instance.content[column] : null;\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {ChangeDetectorRef} from '@angular/core';\n\nimport {AjfReportInstance} from './interface/reports-instances/report-instance';\nimport {AjfReport} from './interface/reports/report';\n\nexport abstract class AjfReportRenderer {\n  private _instance: AjfReportInstance;\n  get instance(): AjfReportInstance { return this._instance; }\n  set instance(instance: AjfReportInstance) {\n    this._instance = instance;\n    this._report = instance != null ? instance.report : null;\n    this._cdr.markForCheck();\n  }\n\n  private _report: AjfReport | null;\n  get report(): AjfReport | null {\n    return this._report;\n  }\n\n  constructor(private _cdr: ChangeDetectorRef) { }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nexport enum AjfWidgetType {\n  Layout,\n  PageBreak,\n  Image,\n  Text,\n  Chart,\n  Table,\n  Map,\n  Column,\n  Formula,\n  ImageContainer,\n  LENGTH\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nexport enum AjfAggregationType {\n  None,\n  Sum,\n  Average,\n  WeightedAverage,\n  LENGTH\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {ExtendedChartType} from '@ajf/core/chart';\nimport {AjfChartType} from './interface/charts/chart-type';\n\nexport function chartToChartJsType(chartType?: AjfChartType): ExtendedChartType {\n    switch (chartType) {\n      case AjfChartType.Line:\n      return 'line';\n      case AjfChartType.Bar:\n      return 'bar';\n      case AjfChartType.HorizontalBar:\n      return 'horizontalBar';\n      case AjfChartType.Radar:\n      return 'radar';\n      case AjfChartType.Scatter:\n      return 'scatter';\n      case AjfChartType.Doughnut:\n      return 'doughnut';\n      case AjfChartType.Pie:\n      return 'pie';\n      case AjfChartType.PolarArea:\n      return 'polarArea';\n      case AjfChartType.Bubble:\n      return 'bubble';\n      default:\n      return 'line';\n    }\n  }\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nexport enum AjfChartType {\n  Line,\n  Bar,\n  HorizontalBar,\n  Radar,\n  Scatter,\n  Doughnut,\n  Pie,\n  PolarArea,\n  Bubble,\n  LENGTH\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {ChangeDetectorRef, ElementRef} from '@angular/core';\nimport {AjfWidgetInstance} from './interface/widgets-instances/widget-instance';\n\nexport abstract class AjfBaseWidgetComponent<T extends AjfWidgetInstance = AjfWidgetInstance> {\n  private _instance: T;\n  get instance(): T { return this._instance; }\n  set instance(instance: T) {\n    if (this._instance !== instance) {\n      this._instance = instance;\n      this._cdr.detectChanges();\n    }\n  }\n\n  constructor(private _cdr: ChangeDetectorRef, readonly el: ElementRef) { }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n"],"names":["evaluateExpression","createFormula","tslib_1.__assign","deepCopy","AjfFormulaSerializer","AjfConditionSerializer","alwaysCondition","NgModule","ViewContainerRef","Directive","Pipe"],"mappings":"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"}