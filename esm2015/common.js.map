{"version":3,"file":"common.js","sources":["../../../src/core/common/common-module.ts","../../../src/core/common/translate-if-string.ts","../../../src/core/common/format-if-number.ts","../../../src/core/common/auto-focus.directive.ts","../../../src/core/common/apply-styles-directive.ts"],"sourcesContent":["/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {NgModule} from '@angular/core';\n\nimport {ApplyStylesDirective} from './apply-styles-directive';\nimport {AutofocusDirective} from './auto-focus.directive';\nimport {FormatIfNumber} from './format-if-number';\nimport {TranslateIfString} from './translate-if-string';\n\n@NgModule({\n  declarations: [\n    ApplyStylesDirective,\n    AutofocusDirective,\n    FormatIfNumber,\n    TranslateIfString,\n  ],\n  exports: [\n    ApplyStylesDirective,\n    AutofocusDirective,\n    FormatIfNumber,\n    TranslateIfString,\n  ],\n})\nexport class AjfCommonModule { }\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Pipe} from '@angular/core';\nimport {TranslatePipe} from '@ngx-translate/core';\n\n\n@Pipe({name: 'ajfTranslateIfString'})\nexport class TranslateIfString extends TranslatePipe {\n    transform(query: string, ...args: any[]): any {\n        if (typeof query === 'string') {\n            return super.transform(query, ...args);\n        } else {\n            return query;\n        }\n    }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Pipe} from '@angular/core';\nimport {DecimalPipe} from '@angular/common';\n\n\n@Pipe({name: 'ajfFormatIfNumber'})\nexport class FormatIfNumber extends DecimalPipe {\n    transform(value: any, digitsInfo?: string, locale?: string) {\n        if (typeof value === 'number') {\n            return super.transform(value, digitsInfo, locale);\n        } else {\n            return value;\n        }\n    }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\nimport {AfterContentInit, Directive, ElementRef, Input} from '@angular/core';\n\n@Directive({selector: '[autoFocus]' })\nexport class AutofocusDirective implements AfterContentInit {\n\n    @Input()\n    appAutoFocus: boolean;\n\n    constructor(private _el: ElementRef) {\n    }\n\n    ngAfterContentInit() {\n        this._el.nativeElement.focus();\n    }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Input, Directive, ElementRef, Renderer2} from '@angular/core';\n\n\n@Directive({ selector: '[applyStyles]' })\nexport class ApplyStylesDirective {\n  private _cssStyles: { [style: string]: any; };\n  @Input()\n  set applyStyles(cssStyles: { [style: string]: any; }) {\n    if (this._cssStyles !== cssStyles) {\n      this._cssStyles = cssStyles;\n      this._updateStyles();\n    }\n  }\n\n  constructor(private _el: ElementRef, private _renderer: Renderer2) { }\n\n  private _updateStyles(): void {\n    if (this._cssStyles == null) {\n      return;\n    }\n\n    Object.keys(this._cssStyles).forEach((style: string) => {\n      try {\n        this._renderer.setStyle(\n          this._el.nativeElement,\n          style,\n          `${this._cssStyles[style]}`\n        );\n      } catch (e) { }\n    });\n  }\n}\n"],"names":[],"mappings":"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"}