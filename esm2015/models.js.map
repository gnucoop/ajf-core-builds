{"version":3,"file":"models.js","sources":["../../../src/core/models/formula.ts","../../../src/core/models/conditions.ts","../../../src/core/models/validated-property.ts","../../../src/core/models/validation-functions.ts","../../../src/core/models/error.ts","../../../src/core/models/json.ts"],"sourcesContent":["/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {deepCopy} from '@ajf/core/utils';\nimport {AjfValidatedProperty} from './validated-property';\n\nexport class AjfFormula extends AjfValidatedProperty {\n  formula: string;\n  /**\n   * this static method will load an AjfFormula from json\n   * @param obj : any - object formula\n   * @return AjfFormula\n   */\n  static fromJson(obj: any): AjfFormula {\n    obj = deepCopy(obj);\n    return new AjfFormula(obj);\n  }\n\n  /**\n   *\n   * @param obj\n   */\n  constructor(obj?: any) {\n    super();\n\n    this.jsonExportedMembers = [ 'formula' ];\n\n    this.formula = obj && obj.formula || null;\n  }\n  /**\n   * this method will get validation formula\n   * @return string - a validation formula\n   */\n  getValidationFormula(): string { return this.formula; }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {deepCopy} from '@ajf/core/utils';\nimport {AjfValidatedProperty} from './validated-property';\n\n/**\n * This class will define an Ajf condition\n */\nexport class AjfCondition extends AjfValidatedProperty {\n  condition: string;\n  /**\n   * this method will get true condition\n   * @return AjCondition\n   */\n  static alwaysCondition(): AjfCondition {\n    return new AjfCondition({condition : 'true'});\n  }\n  /**\n   * this method will get false condition\n   * @return AjCondition\n   */\n  static neverCondition(): AjfCondition {\n    return new AjfCondition({condition : 'false'});\n  }\n  /**\n   * this method will load an AjfCondition from json\n   * @param obj : any - object condition\n   * @return AjfCondition\n   */\n  static fromJson(obj: any): AjfCondition {\n    obj = deepCopy(obj);\n    return new AjfCondition(obj);\n  }\n\n  constructor(obj?: any) {\n    super(obj);\n\n    this.jsonExportedMembers = [ 'condition' ];\n\n    this.condition = obj && obj.condition || '';\n  }\n\n  getValidationFormula(): string { return this.condition; }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport * as debug from 'debug';\n\nimport * as esprima from 'esprima';\nconst esprimaMod: any = (esprima as any).default || esprima;\nconst {tokenize} = esprimaMod;\n\nimport {AjfJsonSerializable} from './json';\n\n\nconst debugConstructor: (value?: any) => debug.IDebugger =\n    (<any>debug).default || debug;\n\nconst dbg = debugConstructor('ajf:models:validated-property');\n\nexport type AjfValidationFn = {fn: any};\n\nimport * as vfuncs from './validation-functions';\n\n\n/**\n * This abstract class will define an ajf validated property\n */\nexport abstract class AjfValidatedProperty extends AjfJsonSerializable {\n  static UTIL_FUNCTIONS = '';\n\n  private static _execContext: any = {};\n\n  private static _cachedContext: any = {};\n  private static _cachedContextString: string = '';\n\n  /**\n   * this method will load an AjfNode from json\n   * @param obj                : any - object node\n   * @param choicesOrigins     : any[] - array of choicesOrigins\n   * @param attachmentsOrigins : any[] - array of attachmentsOrigins\n   * @return AjfNode\n   */\n  static validate(str: string, context?: any): boolean {\n    if (context === this._cachedContext) {\n      console.log('cache hit');\n    } else {\n      this._cachedContext = context;\n      this._cachedContextString = AjfValidatedProperty.getContextString(context);\n    }\n    let ctx = this._cachedContextString;\n    try {\n      let f = new Function(`${ctx}${str}`);\n      dbg(<any>`validating formula %s using context %j`, str, ctx);\n      f();\n      dbg(`formula %s validated`, str);\n      f = <any>null;\n      return true;\n    } catch (e) {\n      dbg(`formula %s not validated: error %j`, str, e);\n      return false;\n    }\n  }\n  /**\n   * this public static method will get context string\n   * @param context : any - context\n   * @return string\n   */\n  static getContextString(context?: any): string {\n    let fstr = AjfValidatedProperty.UTIL_FUNCTIONS;\n    if (context instanceof Array) {\n      for (let i = 0; i < context.length; i++) {\n        fstr = `${fstr}var ${context[i]} = true;`;\n      }\n    } else if (context != null) {\n      Object.keys(context).forEach(x => {\n        let val: any = context[x];\n        if (val == null || isNaN(Number(val)) || val === '' ||\n            val instanceof Array) {\n          if (val instanceof Array) {\n            for (let i = 0; i < val.length; i++) {\n              val[i] =\n                  (val == null || isNaN(Number(val[i])) || val[i] === '') &&\n                      val[i] ||\n                  Number(val[i]);\n            }\n          }\n          val = JSON.stringify(val);\n        } else {\n          val = Number(val);\n        }\n        fstr = `${fstr}var ${x} = ${val}; `;\n      });\n    }\n    return fstr;\n  }\n\n  abstract getValidationFormula(): string;\n\n  /**\n   * this public method will evaluate context or forceFormula\n   * @param context      : any - context\n   * @param forceFormula : string - formula\n   * @return string\n   */\n  evaluate(context?: any, forceFormula?: string): any {\n    let formula = forceFormula || this.getValidationFormula() || '';\n    if (formula === '') { return ''; }\n    if (formula === 'true') { return true; }\n    if (formula === 'false') { return false; }\n    if (context != null && context[formula] !== undefined) { return context[formula]; }\n    if (/^\"[^\"]*\"$/.test(formula)) {\n      return formula.replace(/^\"+|\"+$/g, '');\n    }\n    const identifiers = tokenize(formula)\n      .filter((t: any) => t.type === 'Identifier')\n      .map((t: any) => t.value);\n    const ctx: any[] = [];\n    identifiers.forEach((key: string) => {\n      let val: any = null;\n      if (context != null && context[key] !== undefined) {\n        val = context[key];\n      } else if (AjfValidatedProperty.utils[key] !== undefined) {\n        const util = AjfValidatedProperty.utils[key];\n        val = util.fn;\n      }\n      ctx.push(val);\n    });\n    identifiers.push('execContext');\n    ctx.push(AjfValidatedProperty._execContext);\n\n    try {\n      if (dbg.enabled) {\n        dbg(`evaluating formula %s using context %j`, formula, ctx);\n      }\n      let f = new Function(...identifiers, `return ${formula}`);\n      const res = f(...ctx);\n      if (dbg.enabled) {\n        dbg(`formula %s evaluated: result %s`, formula, res);\n      }\n      f = <any>null;\n      return res;\n    } catch (e) {\n      console.log(e);\n      if (dbg.enabled) {\n        dbg(`formula %s not evaluated: error %j`, formula, e.message);\n      }\n      return false;\n    }\n  }\n\n  static utils: {[name: string]: AjfValidationFn} = {\n    digitCount: {fn: vfuncs.digitCount},\n    decimalCount: {fn: vfuncs.decimalCount},\n    isInt: {fn: vfuncs.isInt},\n    notEmpty: {fn: vfuncs.notEmpty},\n    valueInChoice: {fn: vfuncs.valueInChoice},\n    scanGroupField: {fn: vfuncs.scanGroupField},\n    sum: {fn: vfuncs.sum},\n    dateOperations: {fn: vfuncs.dateOperations},\n    round: {fn: vfuncs.round},\n    extractArray: {fn: vfuncs.extractArray},\n    extractSum: {fn: vfuncs.extractSum},\n    extractArraySum: {fn: vfuncs.extractArraySum},\n    drawThreshold: {fn: vfuncs.drawThreshold},\n    extractDates: {fn: vfuncs.extractDates},\n    lastProperty: {fn: vfuncs.lastProperty},\n    sumLastProperties: {fn: vfuncs.sumLastProperties},\n    calculateTrendProperty: {fn: vfuncs.calculateTrendProperty},\n    calculateTrendByProperties: {fn: vfuncs.calculateTrendByProperties},\n    calculateAvgProperty: {fn: vfuncs.calculateAvgProperty},\n    calculateAvgPropertyArray: {fn: vfuncs.calculateAvgPropertyArray},\n    alert: {fn: vfuncs.alert},\n    formatNumber: {fn: vfuncs.formatNumber},\n    formatDate: {fn: vfuncs.formatDate},\n    isoMonth: {fn: vfuncs.isoMonth},\n    getCoordinate: {fn: vfuncs.getCoordinate},\n    Math: {fn: Math},\n    parseInt: {fn: parseInt},\n    parseFloat: {fn: parseFloat},\n    parseDate: {fn: vfuncs.dateUtils.parse},\n    Date: {fn: Date}\n  };\n\n  static nextCounterValue(counterName: string, firstValue: number) {\n    firstValue = firstValue != null ? firstValue : 0;\n    if (this._execContext['$$' + counterName] == null) {\n      this._execContext['$$' + counterName] = firstValue;\n    } else {\n      this._execContext['$$' + counterName]++;\n    }\n    return this._execContext['$$' + counterName];\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  addDays, addMonths, addYears, endOfISOWeek, format, getDay, parse, startOfMonth, startOfISOWeek\n} from 'date-fns';\nimport * as numeral from 'numeral';\n\nexport const dateUtils = {\n  addDays, addMonths, addYears, endOfISOWeek, format, getDay, parse, startOfMonth, startOfISOWeek\n};\n\nconst numeralConstructor: (value?: any) => any = (<any>numeral).default || numeral;\n\n\nexport function digitCount(x: number): number {\n  if (x == null) { return 0; }\n  return x.toString().length;\n}\n\nexport function decimalCount(x: string|number): number {\n  if (x == null) { return 0; }\n  if (typeof x === 'string') {\n    x = parseFloat(x);\n  }\n  if (isNaN(x)) {\n    return 0;\n  }\n  const parts = x.toString().split('.');\n  return parts.length > 1 ? parts[1].length : 0;\n}\n\nexport function isInt(x: string): boolean {\n  return !/[,.]/.test(x);\n}\n\nexport function notEmpty(x: any): boolean {\n  return (typeof x !== 'undefined' && x !== null ? x.toString().length > 0 : false);\n}\n\nexport function valueInChoice(array: any[], x: any): boolean {\n  return (array || []).indexOf(x) > -1 || array === x;\n}\n\nexport function scanGroupField(reps: number, acc: any, callback: any): any {\n  for (let i = 0; i < reps; i++) {\n      acc = callback(acc, i);\n  }\n  return acc;\n}\n\nexport function sum(array: any[]): any {\n  return array.reduce((a, b) => a + b, 0);\n}\n\nexport function dateOperations(\n  dString: string, period: string, operation: string, v: any\n): string {\n  const fmt = 'MM/DD/YYYY';\n  let d = (typeof dString !== 'undefined') ? dateUtils.parse(dString) : new Date();\n  if (operation == 'remove') {\n    v = -v;\n  }\n  let dateOp;\n  switch (period) {\n    case 'day':\n      dateOp = dateUtils.addDays;\n      break;\n    case 'month':\n      dateOp = dateUtils.addMonths;\n      break;\n    case 'year':\n      dateOp = dateUtils.addYears;\n      break;\n    default:\n      return '';\n  }\n  return dateUtils.format(dateOp(d, v), fmt);\n}\n\nexport function round(num: number|string, digits: number): number {\n  digits = digits || 0;\n  let f;\n  if (typeof num !== 'number') {\n    try {\n      f = parseFloat(num);\n    } catch (e) { }\n  } else {\n    f = num;\n  }\n  if (f == null || isNaN(f)) {\n    f = 0;\n  }\n  const m = Math.pow(10, digits);\n  return Math.round(f * m) / m;\n}\n\nexport function extractArray(source: any[], property: string, property2?: string): any[] {\n  source = (source || []).slice(0);\n  const l = source.length;\n  const res: any[] = [];\n  for (let i = 0; i < l ; i++) {\n    if (source[i][property] != null && property2 != null && source[i][property2] != null) {\n      res.push(source[i][property] + source[i][property2]);\n    } else if (source[i][property] != null) {\n      res.push(source[i][property]);\n    }\n  }\n  return res;\n}\n\nexport function extractSum(source: any[], properties: string[]): number {\n  let sumVal = 0;\n  properties = (properties || []).slice(0);\n  const l = properties.length;\n\n  for (let i = 0; i < l ; i++) {\n    const array = extractArray(source, properties[i]);\n    const leng = array.length;\n    for (let j = 0; j < leng; j++) {\n      sumVal += array[j];\n    }\n  }\n  return sumVal;\n}\n\nexport function extractArraySum(source: any[], properties: string[]): any[] {\n  const arrays: any[] = [];\n  properties = (properties || []).slice(0);\n\n  for (let i = 0; i < properties.length ; i++) {\n    const array = extractArray(source, properties[i]);\n    arrays.push(array);\n  }\n\n  const res: any[] = [];\n  if (arrays.length > 0) {\n    for (let weekI = 0; weekI < arrays[0].length; weekI ++ ) {\n      let sumVal = 0;\n      for (let propI = 0; propI < properties.length ; propI++) {\n        sumVal = sumVal + arrays[propI][weekI];\n      }\n      res.push(sumVal);\n    }\n  }\n  return res;\n}\n\nexport function drawThreshold(source: any[], property: string, treshold: any[]): any[] {\n  source = (source || []).slice(0);\n  treshold = treshold || [0];\n  if (!(treshold instanceof Array)) {\n    treshold = [treshold];\n  }\n  const l = source.length;\n  const res: any[] = [];\n  let count = 0;\n  for (let i = 0; i < l ; i++) {\n    if (source[i][property] != null) {\n      if (treshold.length > count) {\n        res.push(treshold[count]);\n      } else {\n        res.push(treshold[0]);\n      }\n      count++;\n    }\n  }\n  return res;\n}\n\nexport function extractDates(source: any[], property: string, fmt: string): string[] {\n  source = (source || []).slice(0);\n  const l = source.length;\n  const res: any = [];\n  let prefix = '';\n  for (let i = 0; i < l ; i++) {\n    if (source[i][property] != null) {\n      switch (fmt) {\n        case 'WW':\n          prefix = 'W';\n          break;\n        case 'MM':\n          prefix = 'M';\n          break;\n        default:\n          prefix = '';\n      }\n      res.push(prefix + formatDate(source[i]['date_start'], fmt));\n    }\n  }\n  return res;\n}\n\nexport function lastProperty(source: any, property: string): any {\n  source = (source || []).slice(0);\n  let l = source.length - 1;\n\n  while (l >= 0 && source[l][property] == null) {\n    l--;\n    if (l < 0) { return ''; }\n  }\n  return l >= 0 ? source[l][property] : '';\n}\n\nexport function sumLastProperties(source: any[], properties: string[]): number {\n  source = (source || []).slice(0);\n  let sumVal = 0;\n  for (let i = 0; i < properties.length; i++) {\n    sumVal += lastProperty(source, properties[i]);\n  }\n\n  return sumVal;\n}\n\nexport function calculateTrendProperty(source: any[], property: string): string {\n  source = (source || []).slice(0);\n  let last = source.length - 1;\n  while (source[last][property] == null) {\n    if (last == 0) {\n      break;\n    }\n    last--;\n  }\n  let lastLast = last - 1;\n  if (last == 0) {\n    lastLast = last;\n  } else {\n    while (source[lastLast][property] == null) {\n      if (lastLast == 0) {\n        lastLast = last;\n        break;\n      }\n      lastLast--;\n    }\n  }\n\n  const lastProp = source[last] ? (source[last][property] || 0) : 0;\n  const lastLastProp = source[lastLast] ? (source[lastLast][property] || 0) : 0;\n\n  if (lastProp == lastLastProp) {\n    return '<p><i class=\"material-icons\" style=\"color:blue\">trending_flat</i></p>';\n  } else if (lastProp > lastLastProp) {\n    return '<p><i class=\"material-icons\" style=\"color:green\">trending_up</i></p>';\n  } else {\n    return '<p><i class=\"material-icons\" style=\"color:red\">trending_down</i></p>';\n  }\n}\n\nexport function calculateTrendByProperties(source: any[], properties: string[]): string {\n  const arraysum = extractArraySum(source, properties);\n\n  const lastProp =  arraysum.length > 0 ? (arraysum[arraysum.length - 1] || 0) : 0;\n  const lastLastProp = arraysum.length > 1 ? (arraysum[arraysum.length - 2] || 0) : lastProp;\n\n  if (lastProp == lastLastProp) {\n    return '<p><i class=\"material-icons\" style=\"color:blue\">trending_flat</i></p>';\n  } else if (lastProp > lastLastProp) {\n    return '<p><i class=\"material-icons\" style=\"color:green\">trending_up</i></p>';\n  } else {\n    return '<p><i class=\"material-icons\" style=\"color:red\">trending_down</i></p>';\n  }\n}\n\nexport function calculateAvgProperty(\n  source: any[], property: string, range: number, coefficient: number\n): number {\n  source = (source || []).slice(0);\n\n  coefficient = coefficient || 1;\n  range = range || 12;\n\n  let l = source.length;\n  let res = 0;\n  let counter = 0;\n  let noZero = 0;\n\n  if (l < range) {\n    range = l;\n  }\n\n  while (range != 0) {\n    if (source[l - 1][property] != null) {\n      counter++;\n      res += source[l - 1][property];\n\n      if (source[l - 1][property] > 0) {\n        noZero++;\n      }\n    }\n    l--;\n    range--;\n  }\n\n  if (coefficient == 0) {\n    return noZero;\n  } else {\n    return round((res / counter) * coefficient, 2) || 0;\n  }\n}\n\nexport function calculateAvgPropertyArray(\n  source: any[], properties: string[], range: number, coefficient: number\n): number[] {\n  source = (source || []).slice(0);\n  const resArr: any[] = [];\n\n  if (properties && properties.length > 0) {\n    let avg = 0;\n\n    coefficient = coefficient || 1;\n    range = range || 12;\n\n    const sourceArr = properties.length > 1\n      ? extractArraySum(source, properties)\n      : extractArray(source, properties[0]);\n\n    let l = sourceArr.length;\n\n    for (let len = l; len > 0 ; len--) {\n      let res = 0;\n      let counter = 0;\n      let noZero = 0;\n\n      if (len < range) {\n        range = len;\n      }\n\n      for (let r = 1; r <= range ; r++) {\n        let val = sourceArr[len - r];\n        if (val != null) {\n          counter++;\n          res += val;\n          if (val > 0) {\n            noZero++;\n          }\n        }\n      }\n\n      if (counter > 0) {\n        if (coefficient == 0) {\n          avg = noZero;\n        } else {\n          avg = (res / counter) * coefficient || 0;\n        }\n        resArr.push(round(avg, 2));\n      }\n    }\n  }\n  return resArr.reverse();\n}\n\nexport function alert(source: any[], property: string, treshold: number): string {\n  source = (source || []).slice(0);\n\n  if ( lastProperty(source, property)  > treshold ) {\n    return '<p><i class=\"material-icons\" style=\"color:red\">warning</i></p>';\n    } else {\n      return '<p></p>';\n    }\n}\n\nexport function formatNumber(num: number, fmt?: string): string {\n  fmt = fmt || '0,0[.]0';\n  return numeralConstructor(num).format(fmt);\n}\n\nexport function formatDate(date: Date, fmt?: string): string {\n  fmt = fmt || 'MM-DD-YYYY';\n  return dateUtils.format(date, fmt);\n}\n\nexport function isoMonth(date: Date, fmt?: string): string {\n  fmt = fmt || 'MM';\n  const du = dateUtils;\n  return du.format(du.addDays(du.startOfISOWeek(date), 3), fmt);\n}\n\nexport function getCoordinate(source: any, zoom?: number): [number, number, number] {\n  zoom = zoom || 6;\n  if (source == null) {\n    return [51.505, -0.09, zoom];\n  } else {\n    return [source[0], source[1], zoom];\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nexport class AjfError extends Error {\n  stack: string;\n  get name(): string { return 'AjfError'; }\n  get message(): string { return this._message; }\n  // this private string is the error message\n  private _message: string;\n  /**\n   * this constructor will init the message error\n   */\n  constructor(message?: string) {\n    super(message);\n    this._message = message || '';\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nexport abstract class AjfJsonSerializable {\n  private _jsonExportedMembers: string[] = [];\n\n  static fromJson(_: any): AjfJsonSerializable {\n    throw new Error('Not implemented');\n  }\n\n  private static _valueToJson(val: any): any {\n    if (val instanceof Array) {\n      val = val.map((v) => AjfJsonSerializable._valueToJson(v));\n    }\n\n    return val instanceof AjfJsonSerializable ? val.toJson() : val;\n  }\n\n  /**\n   * this private static method will get property to json\n   * @param obj  : any - object json\n   * @param prop : string - property\n   * @return any\n   */\n  private static _propertyToJson(obj: any, prop: string): any {\n    let val: any;\n    let getter = `get${prop.toLocaleUpperCase().substr(0, 1)}${prop.substr(1)}`;\n    if (obj.hasOwnProperty(prop)) {\n      val = obj[prop];\n    } else if (typeof obj[getter] === 'function') {\n      val = obj[getter]();\n    } else {\n      val = obj[prop];\n    }\n\n    return AjfJsonSerializable._valueToJson(val);\n  }\n\n  /**\n   * this protected method will get json exported members\n   * @return string[] - json exported members\n   */\n  protected get jsonExportedMembers(): string[] {\n    return this._jsonExportedMembers;\n  }\n\n  /**\n   * this protected method will set json exported members\n   * @param string[] - json exported members\n   */\n  protected set jsonExportedMembers(members: string[]) {\n    this._jsonExportedMembers = members;\n  }\n\n  constructor(_?: any) {}\n\n  /**\n   * this method will load json\n   * @return any - json\n   */\n  toJson(): any {\n    let json: any = {};\n\n    this._jsonExportedMembers.forEach(\n        (m) => { json[m] = AjfJsonSerializable._propertyToJson(this, m); });\n\n    return json;\n  }\n}\n"],"names":["vfuncs.dateUtils","vfuncs.getCoordinate","vfuncs.isoMonth","vfuncs.formatDate","vfuncs.formatNumber","vfuncs.alert","vfuncs.calculateAvgPropertyArray","vfuncs.calculateAvgProperty","vfuncs.calculateTrendByProperties","vfuncs.calculateTrendProperty","vfuncs.sumLastProperties","vfuncs.lastProperty","vfuncs.extractDates","vfuncs.drawThreshold","vfuncs.extractArraySum","vfuncs.extractSum","vfuncs.extractArray","vfuncs.round","vfuncs.dateOperations","vfuncs.sum","vfuncs.scanGroupField","vfuncs.valueInChoice","vfuncs.notEmpty","vfuncs.isInt","vfuncs.decimalCount","vfuncs.digitCount","((/** @type {?} */ (debug))).default","((/** @type {?} */ (esprima))).default","((/** @type {?} */ (numeral))).default"],"mappings":"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"}