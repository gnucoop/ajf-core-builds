{"version":3,"file":"ajf-core-common.mjs","sources":["../../../projects/core/common/src/apply-styles-directive.ts","../../../projects/core/common/src/auto-focus.directive.ts","../../../projects/core/common/src/build-string-identifier.ts","../../../projects/core/common/src/dnd-directive.ts","../../../projects/core/common/src/format-if-number.ts","../../../projects/core/common/src/translate-if-string.ts","../../../projects/core/common/src/common-module.ts","../../../projects/core/common/src/context.ts","../../../projects/core/common/src/public_api.ts","../../../projects/core/common/src/ajf-core-common.ts"],"sourcesContent":["/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Directive, ElementRef, Input, Renderer2} from '@angular/core';\n\n// eslint-disable-next-line\n@Directive({selector: '[applyStyles]'})\nexport class ApplyStylesDirective {\n  private _cssStyles: {[style: string]: any} = {};\n  @Input()\n  set applyStyles(cssStyles: {[style: string]: any} | null) {\n    if (cssStyles != null && this._cssStyles !== cssStyles) {\n      this._cssStyles = cssStyles;\n      this._updateStyles();\n    }\n  }\n\n  constructor(private _el: ElementRef, private _renderer: Renderer2) {}\n\n  private _updateStyles(): void {\n    if (this._cssStyles == null) {\n      return;\n    }\n\n    Object.keys(this._cssStyles).forEach((style: string) => {\n      try {\n        this._renderer.setStyle(this._el.nativeElement, style, `${this._cssStyles[style]}`);\n      } catch (e) {}\n    });\n  }\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\nimport {AfterContentInit, Directive, ElementRef, Input} from '@angular/core';\n\n// eslint-disable-next-line\n@Directive({selector: '[autoFocus]'})\nexport class AutofocusDirective implements AfterContentInit {\n  @Input() appAutoFocus: boolean = false;\n\n  constructor(private _el: ElementRef) {}\n\n  ngAfterContentInit() {\n    this._el.nativeElement.focus();\n  }\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {AjfContext} from './context';\nimport {AjfStringIdentifier} from './string-identifier';\n\n/**\n * emptyString: the string displayed when the context has no match.\n * entriesDivider: the string displauyed beetwen entries\n * labelSuffix: the string displayed between the label and its values\n * valuesDivider: the string dispayed between values\n * @export\n * @interface BuildStringIdentifierOpts\n */\nexport interface BuildStringIdentifierOpts {\n  emptyString?: string;\n  entriesDivider?: string;\n  labelSuffix?: string;\n  valuesDivider?: string;\n}\n\nconst defaultOpts = {\n  emptyString: 'Not specified',\n  entriesDivider: ' - ',\n  labelSuffix: ': ',\n  valuesDivider: ', ',\n};\n\nexport const buildStringIdentifierOpts = (\n  opts?: BuildStringIdentifierOpts,\n): Required<BuildStringIdentifierOpts> => ({...defaultOpts, ...opts});\n\nexport const buildStringIdentifier = (\n  stringIdentifier: AjfStringIdentifier[] | undefined,\n  context: AjfContext,\n  opts?: BuildStringIdentifierOpts,\n): string => {\n  const strings = {...defaultOpts, ...opts} as Required<BuildStringIdentifierOpts>;\n  if (stringIdentifier == null) {\n    return strings.emptyString;\n  }\n  const str: string[] = stringIdentifier.map(s => {\n    const values: string[] = [];\n    if (s.value != null && s.value.length > 0) {\n      s.value.forEach(curValue => {\n        const vp: string[] = curValue.split('.');\n        let curContext = context;\n        let val: any = null;\n        vp.forEach(k => {\n          if (curContext[k] !== undefined) {\n            val = context[k];\n            curContext = context[k];\n          }\n        });\n        if (val != null && val instanceof Array && val.length > 0) {\n          val = val.map(v => `${v}`).join(', ');\n        }\n        if (val != null) {\n          values.push(`${val}`);\n        }\n      });\n    }\n    return `${s.label}: ${values.length > 0 ? values.join(', ') : strings.emptyString}`;\n  });\n  return str.join(' - ');\n};\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {Directive, EventEmitter, Output} from '@angular/core';\nimport {Observable} from 'rxjs';\n\n@Directive({\n  selector: '[ajfDnd]',\n  // eslint-disable-next-line\n  host: {\n    '[class.ajf-dnd-over]': 'over',\n    '(dragover)': 'onDragOver($event)',\n    '(dragleave)': 'onDragLeave($event)',\n    '(drop)': 'onDrop($event)',\n  },\n})\nexport class AjfDndDirective {\n  private _file: EventEmitter<FileList> = new EventEmitter<FileList>();\n  @Output() readonly file: Observable<FileList> = this._file as Observable<FileList>;\n\n  private _over: boolean = false;\n  get over(): boolean {\n    return this._over;\n  }\n\n  onDragOver(evt: DragEvent): void {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this._over = true;\n  }\n\n  onDragLeave(evt: DragEvent): void {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this._over = false;\n  }\n\n  onDrop(evt: DragEvent): void {\n    evt.preventDefault();\n    evt.stopPropagation();\n    if (evt.dataTransfer == null || evt.dataTransfer.files.length === 0) {\n      return;\n    }\n    let files: FileList = evt.dataTransfer.files;\n    if (files.length > 0) {\n      this._over = false;\n      this._file.emit(files);\n    }\n  }\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {DecimalPipe} from '@angular/common';\nimport {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({name: 'ajfFormatIfNumber'})\nexport class FormatIfNumber extends DecimalPipe implements PipeTransform {\n  override transform(value: any, digitsInfo?: string, locale?: string) {\n    if (typeof value === 'number') {\n      return super.transform(value, digitsInfo, locale);\n    } else {\n      return value;\n    }\n  }\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {TranslocoPipe} from '@ajf/core/transloco';\nimport {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({name: 'ajfTranslateIfString'})\nexport class TranslateIfString extends TranslocoPipe implements PipeTransform {\n  override transform(query: any, ...args: any[]): any {\n    if (typeof query === 'string') {\n      return super.transform(query, ...args);\n    } else {\n      return query;\n    }\n  }\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {NgModule} from '@angular/core';\n\nimport {ApplyStylesDirective} from './apply-styles-directive';\nimport {AutofocusDirective} from './auto-focus.directive';\nimport {AjfDndDirective} from './dnd-directive';\nimport {FormatIfNumber} from './format-if-number';\nimport {TranslateIfString} from './translate-if-string';\n\n@NgModule({\n  declarations: [\n    AjfDndDirective,\n    ApplyStylesDirective,\n    AutofocusDirective,\n    FormatIfNumber,\n    TranslateIfString,\n  ],\n  exports: [\n    AjfDndDirective,\n    ApplyStylesDirective,\n    AutofocusDirective,\n    FormatIfNumber,\n    TranslateIfString,\n  ],\n})\nexport class AjfCommonModule {}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nexport type AjfContext = {\n  [key: string]: any;\n};\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nexport * from './apply-styles-directive';\nexport * from './auto-focus.directive';\nexport * from './build-string-identifier';\nexport * from './common-module';\nexport * from './context';\nexport * from './dnd-directive';\nexport * from './format-if-number';\nexport * from './string-identifier';\nexport * from './translate-if-string';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}