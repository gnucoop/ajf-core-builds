{"version":3,"file":"range.mjs","sources":["../../../../../../src/core/range/range.ts","../../../../../../src/core/range/public-api.ts","../../../../../../src/core/range/index.ts","../../../../../../src/core/range/range_public_index.ts"],"sourcesContent":["/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  AJF_WARNING_ALERT_SERVICE,\n  AjfBaseFieldComponent,\n  AjfFormRendererService,\n  AjfRangeFieldInstance,\n  AjfWarningAlertService,\n} from '@ajf/core/forms';\nimport {ChangeDetectorRef, Directive, Inject, Input, OnInit} from '@angular/core';\nimport {ControlValueAccessor} from '@angular/forms';\n\n@Directive()\nexport abstract class AjfRange\n  extends AjfBaseFieldComponent<AjfRangeFieldInstance>\n  implements ControlValueAccessor, OnInit\n{\n  private _end: number = 10;\n  private _name: string = '';\n  private _onChangeCallback: (value: any) => void = _ => {};\n\n  private _onTouchedCallback: () => void = () => {};\n\n  private _start: number = 1;\n  private _step: number = 1;\n  private _value: number = 1;\n\n  constructor(\n    public cdr: ChangeDetectorRef,\n    service: AjfFormRendererService,\n    @Inject(AJF_WARNING_ALERT_SERVICE) was: AjfWarningAlertService,\n  ) {\n    super(cdr, service, was);\n  }\n\n  get end(): number | undefined {\n    return this._end;\n  }\n  @Input()\n  set end(newEnd: number | undefined) {\n    if (newEnd != null && this._end != newEnd) {\n      this._end = newEnd as number;\n      this.cdr.detectChanges();\n    }\n  }\n\n  get name(): string | undefined {\n    return this._name;\n  }\n  @Input()\n  set name(newName: string | undefined) {\n    if (newName != null && this._name != newName) {\n      this._name = newName;\n      this.cdr.detectChanges();\n    }\n  }\n\n  get start(): number | undefined {\n    return this._start;\n  }\n  @Input()\n  set start(newStart: number | undefined) {\n    if (newStart != null && this._start != newStart) {\n      this._start = newStart;\n      this.cdr.detectChanges();\n    }\n  }\n\n  get step(): number | undefined {\n    return this._step;\n  }\n  @Input()\n  set step(newStep: number | undefined) {\n    if (newStep != null && this._step !== newStep) {\n      this._step = newStep;\n      this.cdr.detectChanges();\n    }\n  }\n\n  get value(): number {\n    return this._value;\n  }\n\n  set value(newValue: number) {\n    if (this._value !== newValue) {\n      this._value = newValue;\n      this._onChangeCallback(newValue);\n      this.cdr.detectChanges();\n    }\n  }\n\n  override ngOnInit(): void {\n    super.ngOnInit();\n    if (this.instance != null && this.instance.node != null) {\n      const node = this.instance.node;\n      if (node.end != null) {\n        this.end = node.end;\n      }\n      if (node.start != null) {\n        this.start = node.start;\n      }\n      if (node.step != null) {\n        this.step = node.step;\n      }\n      if (node.name != null) {\n        this.name = node.name;\n      }\n    }\n  }\n\n  registerOnChange(fn: (value: any) => void): void {\n    this._onChangeCallback = fn;\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this._onTouchedCallback = fn;\n  }\n\n  reset(): void {\n    this.value = 0;\n    this._onTouchedCallback();\n  }\n\n  writeValue(value: number): void {\n    this.value = value;\n  }\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nexport * from './range';\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Advanced JSON forms (ajf).\n *\n * Advanced JSON forms (ajf) is free software: you can redistribute it and/or\n * modify it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the License,\n * or (at your option) any later version.\n *\n * Advanced JSON forms (ajf) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero\n * General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Advanced JSON forms (ajf).\n * If not, see http://www.gnu.org/licenses/.\n *\n */\n\nexport * from './public-api';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}